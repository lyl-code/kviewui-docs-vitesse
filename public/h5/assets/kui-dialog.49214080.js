import{_ as e}from"./kui-icons.3c452229.js";import{v as t,x as o,r as i,A as l,y as r,g as u,e as n,i as a,c as s,d as c,w as f,f as p,q as d,z as k,h as y,B as m,s as x,m as g,j as b,M as C,Y as h,Z as S}from"./index.4769b127.js";import{_}from"./kui-text.d338fb2c.js";import{_ as w}from"./kui-button.fcbf8c10.js";import{_ as z}from"./kui-popup.6cc4c5f3.js";import{c as j}from"./kui-page.12878643.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";const $=B(o({name:"kui-dialog",props:{mode:{type:String,default:()=>{var e,o;return null!=(o=null==(e=t(j,void 0))?void 0:e.mode)?o:"light"}},showIcon:{type:Boolean,default:!1},iconPrefix:{type:String,default:"boot"},iconName:{type:String,default:""},iconColor:{type:String,default:"primary"},iconColorLevel:{type:[String,Number],default:5},iconSize:{type:[String,Number],default:80},title:{type:String,default:""},titleAlign:{type:String,default:"center"},show:{type:Boolean,default:!1},content:{type:String,default:""},contentAlign:{type:String,default:"center"},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"},cancelAutoClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1},footerDirection:{type:String,default:"row"},dialogClass:{type:String,default:""},dialogStyle:{type:Object,default:{}},dialogRadius:{type:String,default:"base"},type:{type:String,default:"normal"},footerType:{type:String,default:"margin"},placeholderText:{type:String,default:"请输入内容"}},emits:["update:show","confirm","cancel"],options:{virtualHost:!0},setup(e,t){const{proxy:o}=u(),n=o.$theme,a=i({mode:e.mode,footerDirection:e.footerDirection}),s=l((()=>(n.colors[e.mode][e.iconColor]||uni.kviewUIColor.generate(e.iconColor,{dark:"dark"===e.mode,list:!0}))[e.iconColorLevel])),c=l((()=>{const t=i({});return t.justifyContent=e.titleAlign,t.fontSize=`${n.size.fonts.lg}${n.size.fontUnit}`,t})),f=l((()=>{const t=i({});return t.width="570rpx",t.minHeight="312rpx",t.padding="40rpx 30rpx 16rpx 30rpx",t.padding="no-margin"===e.footerType?"40rpx 0rpx 0rpx 0rpx":t.padding,t.backgroundColor=n.colors[a.mode].grey[0],t.borderRadius=`${n.size.radiusSize[e.dialogRadius]}rpx`,t})),p=l((()=>{const t=i({});return t.justifyContent=e.contentAlign,"right"===e.contentAlign&&(t.justifyContent="flex-end"),t.color=n.colors[a.mode].grey[5],t.fontSize=`${n.size.fonts.base}rpx`,t})),d=l((()=>{const e=i({});return e.caretColor=n.colors[a.mode].primary[5],e.backgroundColor=n.colors[a.mode].grey[1],e.padding="0rpx 40rpx",e.borderRadius=`${n.size.radiusSize.xl}rpx`,e.color=n.colors[a.mode].grey[8],e.fontSize=n.size.fonts.lg/2+"px",e.height="80rpx",e})),k=(e="normal")=>{"normal"===e&&(a.footerDirection=a.footerDirection?a.footerDirection:"row"),"tips"===e&&(a.footerDirection="column"),"edit"===e&&(a.footerDirection="row")};k(),r((()=>[e.show,e.type,e.footerDirection]),(e=>{e[0]&&o.$refs.popupDialog.open(),k(e[1]),e[2]&&(a.footerDirection=e[2])}));const y=()=>{t.emit("cancel"),o.$refs.popupDialog.forceClose()},m=()=>{t.emit("confirm"),o.$refs.popupDialog.forceClose()};return uni.$on("changeMode",(e=>{a.mode=e})),{state:a,rootStyle:f,getIconColor:s,titleStyle:c,contentStyle:p,inputStyle:d,closedPopup:()=>{t.emit("update:show",!1)},theme:n,getType:k,onCancel:y,onConfirm:m,cancel:()=>{y()},confirm:()=>{m()}}}}),[["render",function(t,o,i,l,r,u){const j=n(a("kui-icons"),e),B=b,$=n(a("kui-text"),_),D=C,T=h,v=S,A=n(a("kui-button"),w),R=n(a("kui-popup"),z);return s(),c(B,{class:"kui-dialog"},{default:f((()=>[p(R,{"close-on-click-mask":!1,"radius-size":t.dialogRadius,ref:"popupDialog",height:"200rpx",onClose:t.closedPopup},{default:f((()=>[p(B,{class:"kui-flex kui-flex-col kui-justify-between kui-box-border",style:d(t.rootStyle)},{default:f((()=>[p(B,{class:"kui-items-center kui-w-full"},{default:f((()=>[p(B,{class:"kui-flex kui-justify-center kui-mb-2"},{default:f((()=>[k(t.$slots,"icon",{},(()=>[p(j,{prefix:t.iconPrefix,color:t.getIconColor,type:t.iconName,size:t.iconSize},null,8,["prefix","color","type","size"])]),!0)])),_:3}),k(t.$slots,"title",{},(()=>[t.title?(s(),c(B,{key:0,class:"kui-w-full kui-flex kui-px-3 kui-box-border",style:d(t.titleStyle)},{default:f((()=>[p($,{color:t.theme.colors[t.state.mode].grey[9],size:`${t.theme.size.fonts.lg}rpx`},{default:f((()=>[y(m(t.title),1)])),_:1},8,["color","size"])])),_:1},8,["style"])):x("",!0)]),!0),k(t.$slots,"content",{},(()=>[p(B,{class:"kui-w-full kui-h-full kui-px-1 kui-flex kui-mt-3 kui-box-border kui-leading-none"},{default:f((()=>["edit"!==t.type?(s(),c(T,{key:0,class:"kui-flex kui-text-center kui-w-full kui-h-5","scroll-y":!0},{default:f((()=>[p(B,{class:"kui-flex",style:d(t.contentStyle)},{default:f((()=>[p(D,{nodes:t.content,decode:""},null,8,["nodes"])])),_:1},8,["style"])])),_:1})):(s(),c(B,{key:1,class:"kui-my-1 kui-w-full kui-flex kui-justify-center kui-h-full kui-box-border"},{default:f((()=>[p(v,{type:"text",class:"kui-text-center kui-box-border kui-flex kui-flex-col kui-justify-center kui-items-center dialog-input",placeholder:t.placeholderText,"placeholder-class":"kui-text-center kui-text-gray-400 kui-leading-none kui-flex kui-items-center kui-justify-center kui-box-border dialog-input-placeholder",style:d(t.inputStyle)},null,8,["placeholder","style"])])),_:1}))])),_:1})]),!0)])),_:3}),p(B,{class:"kui-pb-0 kui-w-full kui-h-full kui-flex"},{default:f((()=>[k(t.$slots,"footer",{},(()=>["margin"===t.footerType?(s(),c(B,{key:0,class:g(["kui-pb-2 kui-w-full kui-h-full",["edit"===t.type?"":"kui-mt-1"]])},{default:f((()=>["row"==t.state.footerDirection?(s(),c(B,{key:0,class:"kui-w-full kui-flex kui-justify-between kui-mt-5 kui-px-3 kui-box-border"},{default:f((()=>[p(A,{block:"",type:"primary",text:"",outline:"",onClick:t.onCancel},{default:f((()=>[y(m(t.cancelButtonText),1)])),_:1},8,["onClick"]),p(B,{class:"kui-mx-3"}),p(A,{block:"",type:"primary",onClick:t.onConfirm},{default:f((()=>[y(m(t.confirmButtonText),1)])),_:1},8,["onClick"])])),_:1})):x("",!0),"column"==t.state.footerDirection||"tips"===t.type?(s(),c(B,{key:1,class:"kui-h-full kui-w-full kui-flex kui-flex-col kui-justify-between kui-mb-0 kui-px-12 kui-box-border kui-mt-3"},{default:f((()=>[p(A,{block:"",type:"primary",onClick:t.onConfirm},{default:f((()=>[y(m(t.confirmButtonText),1)])),_:1},8,["onClick"]),p(B,{class:"kui-mt-1"}),"normal"==t.type?(s(),c(A,{key:0,block:"",type:"primary",text:"",onClick:t.onCancel},{default:f((()=>[y(m(t.cancelButtonText),1)])),_:1},8,["onClick"])):x("",!0)])),_:1})):x("",!0)])),_:1},8,["class"])):(s(),c(B,{key:1,class:"kui-w-full kui-flex kui-flex-col kui-mt-5"},{default:f((()=>[p(B,{class:"kui-w-full",style:d({height:"0px",borderTop:`1rpx solid ${t.theme.colors[t.state.mode].primary[5]}`})},null,8,["style"]),"row"==t.state.footerDirection?(s(),c(B,{key:0,class:"kui-w-full kui-flex kui-justify-between kui-box-border"},{default:f((()=>[p(A,{block:"",type:"primary",size:"large",radius:30,shape:"square",text:"",onClick:t.onCancel},{default:f((()=>[y(m(t.cancelButtonText),1)])),_:1},8,["onClick"]),p(B,{class:"kui-w-full",style:d({borderTop:`1rpx solid ${t.theme.colors[t.state.mode].primary[5]}`,backgroundColor:`${t.theme.colors[t.state.mode].primary[5]}`,borderBottomRightRadius:"30rpx"})},{default:f((()=>[p(A,{block:"",gradient:!1,type:"primary",size:"large",radius:30,shape:"square",onClick:t.onConfirm},{default:f((()=>[y(m(t.confirmButtonText),1)])),_:1},8,["onClick"])])),_:1},8,["style"])])),_:1})):x("",!0)])),_:1}))]),!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["radius-size","onClose"])])),_:3})}],["__scopeId","data-v-cc0077a6"]]);export{$ as _};
