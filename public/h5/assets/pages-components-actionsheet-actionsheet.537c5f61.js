var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,c=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&i(e,o,t[o]);if(a)for(var o of a(t))l.call(t,o)&&i(e,o,t[o]);return e};import{D as n,E as r,r as u,L as d,h as m,G as h,d as p,f as k,o as f,c as C,w as g,a as y,J as b,b as _,I as w,q as S,Q as v,R as x,l as j,m as O,S as I,i as T,$ as B}from"./index.6e0bac9a.js";import{_ as V}from"./kui-text.66024d1c.js";import{c as P,r as $,_ as A}from"./kui-page.9f67228f.js";import{_ as U}from"./kui-switch.2a261550.js";import{_ as M}from"./kui-cell.7dd07a03.js";import{_ as R}from"./kui-cell-group.96f4bfae.js";import{_ as z}from"./kui-space.b29851da.js";import{_ as D}from"./kui-icons.87a80e4b.js";import{_ as E}from"./kui-animation.118fdc33.js";import{_ as L}from"./kui-popup.45005a92.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import"./kui-overlay.8c99312b.js";var G=q(r({name:"kui-actionsheet",props:{show:{type:Boolean,default:!1},actions:{type:Array,default:[]},title:{type:String,default:""},description:{type:String,default:""},cancelText:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},chooseItemColor:{type:String,default:"primary"},chooseItemValue:{type:String,default:""},mode:{type:String,default:()=>{var e,t;return null!=(t=null==(e=n(P,void 0))?void 0:e.mode)?t:"light"}}},emits:["update:show","choose","cancel","close"],setup(e,t){const{proxy:o}=p(),a=o.$theme,s=u({closeOnClickOverlay:e.closeOnClickOverlay,itemBackgroundColor:"white",mode:e.mode});d((()=>[e.show]),(t=>{if(t[0]){if(e.actions.length<2)return console.warn("actionsheet-debug: actions配置错误"),!1;o.$refs.popupActionsheet.open()}}));const l=()=>{"light"===s.mode&&(s.itemBackgroundColor="white"),"dark"===s.mode&&(s.itemBackgroundColor=a.colors[s.mode].grey[1])};return m((()=>{l()})),h("changeMode",(e=>{s.mode=e,l()})),{itemStyle:t=>{const o=u({});return o.backgroundColor=s.itemBackgroundColor,t>=0&&e.actions.length&&t<e.actions.length-1&&(o.borderBottom=`1rpx solid ${a.colors[s.mode].grey[2]}`),0!==t||e.title||(o.borderTopLeftRadius=o.borderTopRightRadius=`${a.size.radiusSize.base}rpx`),o},closedPopup:e=>{t.emit("close",e),t.emit("update:show",!1)},onChoose:(e,a)=>{if(e.disable||e.loading)return!1;o.$refs.popupActionsheet.forceClose(),t.emit("choose",e,a)},closeOverlay:()=>{t.emit("cancel"),o.$refs.popupActionsheet.forceClose()},getItemColor:t=>{let o=t.color;return e.chooseItemValue===t.name&&(o=e.chooseItemColor?e.chooseItemColor:a.colors[s.mode].primary[5]),"dark"===s.mode&&(o=e.chooseItemValue===t.name?a.colors.dark[e.chooseItemColor][5]:a.colors.dark.grey[8]),t.disable&&(o=a.colors[s.mode].grey[9]),o},state:s,theme:a}}}),[["render",function(e,t,o,a,s,l){const i=$(k("kui-text"),V),c=T,n=$(k("kui-icons"),D),r=$(k("kui-animation"),E),u=$(k("kui-popup"),L);return f(),C(c,{class:"kui-actionsheet"},{default:g((()=>[y(u,{ref:"popupActionsheet","close-on-click-mask":e.state.closeOnClickOverlay,height:"200rpx",position:"bottom",onClose:e.closedPopup},{default:g((()=>[e.title?(f(),C(c,{key:0},{default:g((()=>[y(c,{class:"kui-py-3 kui-flex kui-flex-col kui-justify-center kui-items-center kui-border-0 kui-border-b-rpx kui-border-solid kui-border-gray-200",onClick:t[0]||(t[0]=b((()=>{}),["stop"]))},{default:g((()=>[y(i,{color:e.getItemColor({})},{default:g((()=>[_(w(e.title),1)])),_:1},8,["color"]),e.description?(f(),C(c,{key:0,class:"kui-text-gray-400"},{default:g((()=>[y(c,{class:"kui-mt-1"}),y(i,null,{default:g((()=>[_(w(e.description),1)])),_:1})])),_:1})):S("",!0)])),_:1})])),_:1})):S("",!0),(f(!0),v(I,null,x(e.actions,((t,o)=>(f(),C(c,{key:o,class:j(["kui-py-3 kui-flex kui-flex-col kui-justify-center kui-items-center",[t.disable?"disable":""]]),"hover-class":t.disable||t.loading?"":"kui-bg-gray-200",style:O([e.itemStyle(o)]),onClick:b((a=>e.onChoose(t,o)),["stop"])},{default:g((()=>[t.loading?(f(),C(r,{key:1,name:"rotate-center",duration:1,runing:"",infinite:""},{default:g((()=>[y(n,{type:"spinner6",size:36,color:"grey"})])),_:1})):(f(),C(i,{key:0,color:e.getItemColor(t),mode:e.mode},{default:g((()=>[_(w(t.name),1)])),_:2},1032,["color","mode"])),t.description?(f(),C(c,{key:2,class:"kui-text-gray-400"},{default:g((()=>[y(c,{class:"kui-mt-1"}),y(i,null,{default:g((()=>[_(w(t.description),1)])),_:2},1024)])),_:2},1024)):S("",!0)])),_:2},1032,["hover-class","class","style","onClick"])))),128)),e.cancelText?(f(),C(c,{key:1},{default:g((()=>[y(c,{class:"kui-w-full kui-h-2",style:O({backgroundColor:e.theme.colors[e.state.mode].grey[2]})},null,8,["style"]),y(c,{class:"kui-py-3 kui-flex kui-justify-center kui-items-center","hover-class":"kui-bg-gray-200",onClick:e.closeOverlay},{default:g((()=>[y(i,{color:e.getItemColor({})},{default:g((()=>[_(w(e.cancelText),1)])),_:1},8,["color"])])),_:1},8,["onClick"])])),_:1})):S("",!0)])),_:1},8,["close-on-click-mask","onClose"])])),_:1})}],["__scopeId","data-v-7978a285"]]);var J=q({setup(){const e={state:u({show:!1,actions:[{name:"选项一"},{name:"选项二"},{name:"选项三"}],val:""}),methods:{onClick(){e.state.show=!0},onChoose(t){e.state.val=t.name}}},a={state:u((s=c({},e.state),l={cancelText:"取消"},t(s,o(l)))),methods:{onClick(){a.state.show=!0},onChoose(e){a.state.val=e.name}}};var s,l;const i={state:u({show:!1,actions:[{name:"选项一"},{name:"选项二",description:"这是描述信息",color:"#00BC79"},{name:"选项三"}],title:"这是标题",description:"这是描述信息",val:""}),methods:{onClick(){i.state.show=!0},onChoose(e){i.state.val=e.name}}},n={state:u({show:!1,actions:[{name:"选中选项"},{name:"加载选项",loading:!0},{name:"禁用选项",disable:!0}],chooseItemValue:"选中选项",val:""}),methods:{onClick(){n.state.show=!0},onChoose(e){n.state.val=e.name}}},r=u({mode:"light",modeChecked:!1});return{baseState:e,state:r,cancelState:a,descState:i,statusState:n,changeMode:()=>{r.mode="light"==r.mode?"dark":"light",B("changeMode",r.mode)}}}},[["render",function(e,t,o,a,s,l){const i=$(k("kui-text"),V),c=$(k("kui-switch"),U),n=T,r=$(k("kui-cell"),M),u=$(k("kui-cell-group"),R),d=$(k("kui-space"),z),m=$(k("kui-page"),A),h=$(k("kui-actionsheet"),G);return f(),C(n,null,{default:g((()=>[y(m,{"custom-header":!1},{body:g((()=>[y(n,{class:"kui-w-full kui-h-full"},{default:g((()=>[y(n,{class:"kui-my-3 kui-flex"},{default:g((()=>[y(i,null,{default:g((()=>[_("暗黑模式：")])),_:1}),y(c,{modelValue:a.state.modeChecked,"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.modeChecked=e),onChange:a.changeMode},null,8,["modelValue","onChange"])])),_:1}),y(d,{gap:[30,0],direction:"column"},{default:g((()=>[y(u,{title:"基本用法"},{default:g((()=>[y(r,{title:"基本用法",onClick:a.baseState.methods.onClick},{"right-icon":g((()=>[y(i,null,{default:g((()=>[_(w(a.baseState.state.val),1)])),_:1})])),_:1},8,["onClick"]),y(r,{title:"展示取消按钮",onClick:a.cancelState.methods.onClick},{"right-icon":g((()=>[y(i,null,{default:g((()=>[_(w(a.cancelState.state.val),1)])),_:1})])),_:1},8,["onClick"]),y(r,{title:"展示标题和描述",onClick:a.descState.methods.onClick},{"right-icon":g((()=>[y(i,null,{default:g((()=>[_(w(a.descState.state.val),1)])),_:1})])),_:1},8,["onClick"])])),_:1}),y(u,{title:"选项状态"},{default:g((()=>[y(r,{title:"不同选项状态",onClick:a.statusState.methods.onClick},{"right-icon":g((()=>[y(i,null,{default:g((()=>[_(w(a.statusState.state.val),1)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1}),y(h,{show:a.baseState.state.show,"onUpdate:show":t[1]||(t[1]=e=>a.baseState.state.show=e),actions:a.baseState.state.actions,onChoose:a.baseState.methods.onChoose},null,8,["show","actions","onChoose"]),y(h,{show:a.cancelState.state.show,"onUpdate:show":t[2]||(t[2]=e=>a.cancelState.state.show=e),actions:a.cancelState.state.actions,cancelText:a.cancelState.state.cancelText,onChoose:a.cancelState.methods.onChoose},null,8,["show","actions","cancelText","onChoose"]),y(h,{show:a.descState.state.show,"onUpdate:show":t[3]||(t[3]=e=>a.descState.state.show=e),actions:a.descState.state.actions,description:a.descState.state.description,title:a.descState.state.title,onChoose:a.descState.methods.onChoose},null,8,["show","actions","description","title","onChoose"]),y(h,{show:a.statusState.state.show,"onUpdate:show":t[4]||(t[4]=e=>a.statusState.state.show=e),"choose-item-value":a.statusState.state.chooseItemValue,actions:a.statusState.state.actions,onChoose:a.statusState.methods.onChoose},null,8,["show","choose-item-value","actions","onChoose"])])),_:1})}]]);export{J as default};
