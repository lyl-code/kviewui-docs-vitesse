var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{D as i,E as n,r as c,M as u,h as s,L as r,G as d,d as h,f as m,o as g,c as k,w as p,a as f,H as v,l as b,m as _,i as y,n as C,p as S,a4 as G,b as x,Q as w,R as j,S as O,I as V}from"./index.6e0bac9a.js";import{_ as I}from"./kui-icons.87a80e4b.js";import{c as B,r as $,_ as z}from"./kui-page.9f67228f.js";import{_ as U}from"./kui-animation.118fdc33.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as N}from"./kui-cell.7dd07a03.js";import{_ as P}from"./kui-cell-group.96f4bfae.js";import{u as A}from"./expose.1db9803b.js";import{_ as E}from"./kui-text.66024d1c.js";import{_ as M}from"./kui-button.09ff88a3.js";import{_ as T}from"./kui-space.b29851da.js";import{_ as q}from"./kui-toast.17e4a5d8.js";import"./kui-spin.741eeb84.js";var D={checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:""},activeColor:{type:String,default:"primary"},inactiveColor:{type:String,default:"grey"},iconSize:{type:Number,default:36},activeIcon:{type:String,default:"check_circle1"},inactiveIcon:{type:String,default:"panorama_fisheye"},mode:{type:String,default:()=>{var e,t;return null!=(t=null==(e=i(B,void 0))?void 0:e.mode)?t:"light"}},labelPosition:{type:String,default:"right"},indeterminate:{type:Boolean,default:!1},indeterminateIcon:{type:String,default:"delete"}};const J="kui-checkbox";var H=R(n({name:J,props:D,emits:["change","update:checked"],setup(e,{emit:t}){var a,l,o;const{proxy:n}=h(),m=n.$theme,g=`kUI_${Math.ceil(1e6*(new Date).getTime()).toString(36)}`,k=null!=(a=i("checkbox-group"))?a:null,p=c({checked:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,marginBottom:"",marginRight:"",id:g,value:e.value,positionClass:"",mode:e.mode,icon:{activeColor:"",inactiveColor:""}}),f=c({position:`${J}_label-right`}),v=u((()=>{const e=c({});return p.disabled&&(e.opacity=.4),e.marginBottom=p.marginBottom,e.marginRight=p.marginRight,e})),b=u((()=>{const e=c({});return e.color=m.colors[p.mode].grey[9],e}));let _="";const y="dark"===p.mode,C=null!=(l=m.colors[p.mode][e.activeColor])?l:uni.kviewUIColor.generate(e.activeColor,{dark:y,list:!0}),S=null!=(o=m.colors[p.mode][e.inactiveColor])?o:uni.kviewUIColor.generate(e.inactiveColor,{dark:y,list:!0});return s((()=>{p.icon.activeColor=C[5],p.icon.inactiveColor="grey"===e.inactiveColor?S[3]:S[5],"left"===e.labelPosition&&(p.positionClass="kui-flex-row-reverse"),f.position=`${J}_label-${e.labelPosition}`,k&&-1===k.childrens.indexOf(p)&&k.childrens.push(p)})),r((()=>[p.marginBottom,e.checked,e.indeterminate]),(a=>{a[0]&&(p.marginBottom=a[0]),p.indeterminate=a[2],"click"===_?_="":(p.checked=a[1],t("change",{checked:a[1],value:e.value,e:null}))})),d("changeMode",(t=>{p.mode=t,"dark"===p.mode&&"grey"===e.inactiveColor&&(p.icon.inactiveColor=S[4]),"light"===p.mode&&(p.icon.inactiveColor="grey"===e.inactiveColor?S[2]:S[5])})),{theme:m,state:p,labelState:f,labelStyle:b,onClick:a=>{if(p.disabled)return;if(!p.checked&&k&&k.max>0&&k.max===k.value.length)return;p.indeterminate&&(p.indeterminate=!1),p.checked=!p.checked;const l={checked:p.checked,value:e.value,e:a};_="click",t("update:checked",p.checked),t("change",l,a),k&&k.onChange(l)},rootStyle:v}}}),[["render",function(e,t,a,l,o,i){const n=$(m("kui-icons"),I),c=$(m("kui-animation"),U),u=y;return g(),k(u,{class:b(["kui-checkbox kui-flex kui-items-center",[e.state.positionClass]]),id:e.state.id,style:_(e.rootStyle),onClick:e.onClick},{default:p((()=>[f(u,{class:"kui-checkbox_icon"},{default:p((()=>[e.state.checked||e.state.indeterminate?(g(),k(c,{key:0,name:"fade-in",duration:.2,runing:""},{default:p((()=>[f(n,{size:e.iconSize,color:e.state.icon.activeColor,type:e.state.indeterminate?e.indeterminateIcon:e.activeIcon},null,8,["size","color","type"])])),_:1},8,["duration"])):(g(),k(n,{key:1,size:e.iconSize,color:e.state.icon.inactiveColor,type:e.inactiveIcon},null,8,["size","color","type"]))])),_:1}),f(u,{class:b(["kui-checkbox_label",[e.labelState.position]]),style:_(e.labelStyle)},{default:p((()=>[v(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","id","style","onClick"])}],["__scopeId","data-v-65cd606c"]]);var L=R(n({name:"kui-checkbox-group",props:{modelValue:{type:[String,Number,Boolean,Array],default:[]},disabled:{type:Boolean,default:!1},max:{type:Number,default:0},direction:{type:String,default:"row"}},emits:["change","update:modelValue"],setup(e,{emit:i}){const n=c([]),u=c(e.modelValue),r=(t="normal")=>{n&&n.forEach(((a,l)=>{if(a.marginRight="40rpx",u.indexOf(a.value)>-1&&(a.checked=!0),a.disabled=e.disabled,"all"===t&&(u.indexOf(a.value)<0&&u.push(a.value),a.checked=!0),"cancel"===t&&(u.indexOf(a.value)>-1&&u.splice(u.indexOf(a.value),1),a.checked=!1),"reverse"===t){const e=u.indexOf(a.value);e>-1?u.splice(e,1):u.push(a.value),a.checked=!a.checked}}))};s((()=>{C((()=>{r()}))}));const d=(e,t)=>e-t,h=()=>{u.length!==n.length&&(r("all"),i("change",u.sort(d)))};return S("checkbox-group",((e,i)=>{for(var n in i||(i={}))a.call(i,n)&&o(e,n,i[n]);if(t)for(var n of t(i))l.call(i,n)&&o(e,n,i[n]);return e})({childrens:n,value:u,onChange:t=>{if(t.checked){if(e.max&&u.length===e.max)return;u.push(t.value)}else u.splice(u.indexOf(t.value),1);i("change",u.sort(d))}},e)),A({toggleAll:h,toggleCancel:()=>{0!==u.length&&(r("cancel"),i("change",u))},toggleReverse:()=>{r("reverse"),i("change",u.sort(d))}}),{toggleAll:h}}}),[["render",function(e,t,a,l,o,i){const n=y;return g(),k(n,{class:b(["kui-checkbox-group",["row"===e.direction?"kui-flex kui-flex-wrap":""]])},{default:p((()=>[v(e.$slots,"default")])),_:3},8,["class"])}]]);var Q=R({setup(){const{proxy:e}=h(),t=e.$theme,a=G(null),l=G(null),o={mode:"light",toast:c({show:!1,content:""}),change:{methods:{onChange(e){const t=e.checked?"选中":"取消";o.toast.content=`${t}复选按钮`,o.toast.show=!0}}}},i={state:c({checkedGroup:["1","4"],items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"}]}),methods:{onChange(e){i.state.checkedGroup=e}}},n={state:c({checkedGroup:["2","3","6"],items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"},{label:"复选按钮组",value:"5"},{label:"复选按钮组",value:"6"}]}),methods:{all(e){a.value.toggleAll()},cancel(e){a.value.toggleCancel()},reverse(e){a.value.toggleReverse()},onChange(e){console.log(e)}}},u={state:c({items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"}],indeterminate:!0,checked:!1,checkedGroup:[]}),methods:{onChange(e){e.e&&(e.checked?l.value.toggleAll():l.value.toggleCancel())},groupChange(e){e.length===u.state.items.length?(u.state.indeterminate=!1,u.state.checked=!0):(u.state.checked=!1,u.state.indeterminate=!0)}}};return{theme:t,state:o,baseGroupState:i,toggleGroupState:n,indeterminateGroupState:u,groupToggle:a,groupIndeterminate:l}}},[["render",function(e,t,a,l,o,i){const n=$(m("kui-checkbox"),H),c=$(m("kui-cell"),N),u=$(m("kui-cell-group"),P),s=$(m("kui-checkbox-group"),L),r=$(m("kui-text"),E),d=y,h=$(m("kui-button"),M),v=$(m("kui-space"),T),b=$(m("kui-page"),z),C=$(m("kui-toast"),q);return g(),k(d,{class:"kui-w-full kui-h-full"},{default:p((()=>[f(b,{"custom-header":!1},{body:p((()=>[f(d,{class:"kui-w-full kui-h-full"},{default:p((()=>[f(v,{gap:[30,0],direction:"column"},{default:p((()=>[f(u,{title:"基本用法"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{checked:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"label-position":"left",checked:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1})])),_:1}),f(u,{title:"半选中状态"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{indeterminate:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1})])),_:1}),f(u,{title:"禁用状态"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{checked:"",disabled:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{disabled:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{indeterminate:"",disabled:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1})])),_:1}),f(u,{title:"自定义图标大小"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"icon-size":30},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"icon-size":40},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"icon-size":50},{default:p((()=>[x("复选按钮")])),_:1})])),_:1})])),_:1}),f(u,{title:"自定义图标"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"active-icon":"check","inactive-icon":"check",checked:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1}),f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{"active-icon":"check-square1","inactive-icon":"check-square1",checked:""},{default:p((()=>[x("复选按钮")])),_:1})])),_:1})])),_:1}),f(u,{title:"change监听"},{default:p((()=>[f(c,{"show-right-icon":!1,"click-status":!1},{content:p((()=>[f(n,{onChange:l.state.change.methods.onChange},{default:p((()=>[x("复选按钮")])),_:1},8,["onChange"])])),_:1})])),_:1}),f(u,{title:"复选按钮组-基本用法"},{default:p((()=>[f(d,{class:"kui-rounded kui-p-3 kui-bg-white",style:_({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:p((()=>[f(s,{modelValue:l.baseGroupState.state.checkedGroup,"onUpdate:modelValue":t[0]||(t[0]=e=>l.baseGroupState.state.checkedGroup=e),onChange:l.baseGroupState.methods.onChange},{default:p((()=>[(g(!0),w(O,null,j(l.baseGroupState.state.items,((e,t)=>(g(),k(n,{key:t,value:e.value},{default:p((()=>[x(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"]),f(d,{class:"kui-mt-3 kui-flex"},{default:p((()=>[f(d,{class:"kui-mr-3"},{default:p((()=>[f(r,null,{default:p((()=>[x("当前选中值")])),_:1})])),_:1}),f(d,null,{default:p((()=>[f(r,null,{default:p((()=>[x(V(JSON.stringify(l.baseGroupState.state.checkedGroup)),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])])),_:1}),f(u,{title:"复选按钮组-全选/取消/反选"},{default:p((()=>[f(d,{class:"kui-rounded kui-p-3 kui-bg-white",style:_({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:p((()=>[f(s,{modelValue:l.toggleGroupState.state.checkedGroup,"onUpdate:modelValue":t[1]||(t[1]=e=>l.toggleGroupState.state.checkedGroup=e),onChange:l.toggleGroupState.methods.onChange,ref:"groupToggle"},{default:p((()=>[(g(!0),w(O,null,j(l.toggleGroupState.state.items,((e,t)=>(g(),k(n,{key:t,value:e.value},{default:p((()=>[x(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["style"])])),_:1}),f(d,{class:"kui-flex"},{default:p((()=>[f(v,null,{default:p((()=>[f(h,{type:"primary",onClick:l.toggleGroupState.methods.all},{default:p((()=>[x("全选")])),_:1},8,["onClick"]),f(h,{type:"warning",onClick:l.toggleGroupState.methods.cancel},{default:p((()=>[x("取消")])),_:1},8,["onClick"]),f(h,{type:"danger",onClick:l.toggleGroupState.methods.reverse},{default:p((()=>[x("反选")])),_:1},8,["onClick"])])),_:1})])),_:1}),f(u,{title:"复选按钮组-限制可选数 (默认2个)"},{default:p((()=>[f(d,{class:"kui-rounded kui-p-3 kui-bg-white",style:_({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:p((()=>[f(s,{modelValue:l.baseGroupState.state.checkedGroup,"onUpdate:modelValue":t[2]||(t[2]=e=>l.baseGroupState.state.checkedGroup=e),max:2,onChange:l.baseGroupState.methods.onChange},{default:p((()=>[(g(!0),w(O,null,j(l.baseGroupState.state.items,((e,t)=>(g(),k(n,{key:t,value:e.value},{default:p((()=>[x(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"]),f(d,{class:"kui-mt-3 kui-flex"},{default:p((()=>[f(d,{class:"kui-mr-3"},{default:p((()=>[f(r,null,{default:p((()=>[x("当前选中值")])),_:1})])),_:1}),f(d,null,{default:p((()=>[f(r,null,{default:p((()=>[x(V(JSON.stringify(l.baseGroupState.state.checkedGroup)),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])])),_:1}),f(u,{title:"半选应用场景"},{default:p((()=>[f(d,{class:"kui-rounded kui-px-3 kui-pt-3 kui-bg-white",style:_({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:p((()=>[f(n,{indeterminate:l.indeterminateGroupState.state.indeterminate,checked:l.indeterminateGroupState.state.checked,"onUpdate:checked":t[3]||(t[3]=e=>l.indeterminateGroupState.state.checked=e),onChange:l.indeterminateGroupState.methods.onChange},{default:p((()=>[x("全选")])),_:1},8,["indeterminate","checked","onChange"]),f(d,{class:"kui-my-3",style:_({borderBottom:`1rpx solid ${l.theme.colors[l.state.mode].grey[2]}`})},null,8,["style"]),f(s,{direction:"column",modelValue:l.indeterminateGroupState.state.checkedGroup,"onUpdate:modelValue":t[4]||(t[4]=e=>l.indeterminateGroupState.state.checkedGroup=e),ref:"groupIndeterminate",onChange:l.indeterminateGroupState.methods.groupChange},{default:p((()=>[(g(!0),w(O,null,j(l.indeterminateGroupState.state.items,((e,t)=>(g(),w(O,{key:t},[f(n,{value:e.value},{default:p((()=>[x(V(e.label),1)])),_:2},1032,["value"]),f(d,{class:"kui-my-3",style:_({borderBottom:`1rpx solid ${l.theme.colors[l.state.mode].grey[2]}`})},null,8,["style"])],64)))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})])),_:1}),f(C,{show:l.state.toast.show,"onUpdate:show":t[5]||(t[5]=e=>l.state.toast.show=e),content:l.state.toast.content},null,8,["show","content"])])),_:1})}]]);export{Q as default};
