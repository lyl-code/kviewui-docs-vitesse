import{D as e,E as t,g as o,r,G as a,d as s,f as n,o as l,c as i,w as d,a as p,m as u,q as g,l as c,H as h,i as f,W as y}from"./index.6e0bac9a.js";import{_ as m}from"./kui-spin.741eeb84.js";import{c as b,r as k}from"./kui-page.9f67228f.js";import{_ as S}from"./kui-icons.87a80e4b.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";const C=(e,t=150,o=1)=>{if(1===o)var r=0;else var a;return function(){var s=arguments,n=this;if(1===o){var l=Date.now();l-r>t&&(e.apply(n,s),r=Date.now())}else a||(a=setTimeout((()=>{a=null,e.apply(n,s)}),t))}};var x=v(t({name:"kui-button",props:{type:{type:String,default:""},mode:{type:String,default:()=>{var t,o;return null!=(o=null==(t=e(b,void 0))?void 0:t.mode)?o:"light"}},full:{type:Boolean,default:!1},marginY:{type:Number,default:0},size:{type:String,default:"normal"},shape:{type:String,default:"capsule"},radius:{type:Number,default:10},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},backgroundColor:{type:String,default:""},gradient:{type:Boolean,default:!0},textColor:{type:String,default:""},borderColor:{type:String,default:""},ripple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingType:{type:String,default:"square-dot"},icon:{type:String,default:""},block:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},shadowSize:{type:String,default:""},throttle:{type:Number,default:0},throttleWait:{type:Number,default:500},formType:{type:String,default:""},openType:{type:String,default:""},hoverClass:{type:String,default:"button-hover"},hoverStartTime:{type:Number,default:20},hoverStayTime:{type:Number,default:70},appParameter:{type:String,default:""},hoverStopPropagation:{type:Boolean,default:!1},lang:{type:String,default:"en"},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},showMessageCard:{type:Boolean,default:!1}},emits:["click","getphonenumber","getuserinfo","error","opensetting","launchapp"],options:{virtualHost:!0},setup(e,t){const{proxy:n}=s(),l=n.$theme;o();const i=r({type:e.type,btnBorderWidth:0,backgroundColor:"",backgroundImage:"",color:"",width:"max-content",height:"",padding:"",opacity:e.disabled?.6:1,longClick:0,timeOutEvent:0,btnBorderStyle:"solid",btnBorderColor:"",setMode:e.mode,size:e.size,radius:"square"!==e.shape?9999:e.radius,fontSize:`${l.size.fonts.base}${l.size.fontUnit}`}),d=(t=0)=>{switch(e.full&&(i.btnWidth=o().windowWidth-30+"px"),e.text?(i.backgroundColor=t?l.colors[i.setMode].grey[2+t]:"",i.color=i.type?l.colors[i.setMode][i.type][5+t]:i.color):(i.backgroundColor=i.type?l.colors[i.setMode][i.type][5+t]:"light"===i.setMode?"#FFFFFF":l.colors.dark.grey[2],i.color="light"===i.setMode?"#FFFFFF":l.colors.dark.grey[9],i.color=i.type?"#FFFFFF":l.colors[i.setMode].grey[7+t],i.btnBorderColor=i.type?"":l.colors[i.setMode].grey[3+t],i.btnBorderWidth=i.type?"0rpx":"1rpx",!i.type&&t&&(i.backgroundColor=l.colors[i.setMode].grey[3]),i.type&&e.gradient&&(i.backgroundImage=`linear-gradient(to right, ${l.colors[i.setMode][i.type][5+t]}, ${l.colors[i.setMode][i.type][4+t]})`)),e.outline&&(i.btnBorderColor=i.color=l.colors[i.setMode][i.type][3],i.btnBorderWidth="1rpx"),i.backgroundColor=e.backgroundColor?e.backgroundColor:i.backgroundColor,i.color=e.textColor?e.textColor:i.color,i.btnBorderColor=e.borderColor?e.borderColor:i.btnBorderColor,e.size){case"normal":i.padding="0 30rpx",i.height="72rpx";break;case"small":i.padding="0 22rpx",i.fontSize=`${l.size.fonts.sm}${l.size.fontUnit}`,i.height="56rpx";break;case"mini":i.padding="0 20rpx",i.fontSize=`${l.size.fonts.sm}${l.size.fontUnit}`,i.height="48rpx";break;case"large":i.fontSize=`${l.size.fonts.lg}${l.size.fontUnit}`,i.padding="0 40rpx",i.height="96rpx"}i.width="round"===e.shape?i.height:i.width,e.block&&(i.width="100%")};a("changeMode",(e=>{i.setMode=e,d()})),d();let p=()=>{e.disabled};p=0!==e.throttle?C((function(e){t.emit("click")}),e.throttleWait,e.throttle):()=>{e.disabled||t.emit("click")};return{throttle:C,data:i,start:()=>{if(!e.disabled)return setTimeout((()=>{d(1)}),e.hoverStartTime),!0},end:()=>{if(!e.disabled)return setTimeout((()=>{d()}),e.hoverStayTime),!0},beforeStart:p,onGetphonenumber:e=>{t.emit("getphonenumber",e)},onGetuserinfo:e=>{t.emit("getuserinfo",e)},onError:e=>{t.emit("error",e)},onOpensetting:e=>{t.emit("opensetting",e)},onLaunchapp:e=>{t.emit("launchapp",e)}}}}),[["render",function(e,t,o,r,a,s){const b=k(n("kui-spin"),m),v=f,C=k(n("kui-icons"),S),x=y;return l(),i(v,{class:c(e.block?"kui-w-full":""),onTouchstart:e.start,onTouchend:e.end,onClick:e.beforeStart},{default:d((()=>[p(x,{class:c(["",e.shadow?`kui-shadow-${e.shadowSize}`:""]),plain:!0,disabled:e.disabled,style:u({borderWidth:e.data.btnBorderWidth,borderStyle:e.data.btnBorderStyle,borderColor:e.data.btnBorderColor,backgroundColor:e.data.backgroundColor,backgroundImage:e.data.backgroundImage,color:e.data.color,width:e.data.width,height:e.data.height,padding:e.data.padding,opacity:e.data.opacity,margin:0,marginTop:`${e.marginY}px`,borderRadius:`${e.data.radius}rpx`,lineHeight:1,flexGrow:"large"===e.size||e.block?1:""}),"form-type":e.formType,"open-type":e.openType,"hover-class":e.hoverClass,"hover-start-time":e.hoverStartTime,"hover-stay-time":e.hoverStayTime,"app-parameter":e.appParameter,"hover-stop-propagation":e.hoverStopPropagation,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,onGetphonenumber:e.onGetphonenumber,onGetuserinfo:e.onGetuserinfo,onError:e.onError,onOpensetting:e.onOpensetting,onLaunchapp:e.onLaunchapp},{default:d((()=>[p(v,{style:u({fontSize:e.data.fontSize}),class:"kui-flex kui-justify-center kui-items-center kui-h-full"},{default:d((()=>[e.loading?(l(),i(v,{key:0,class:"kui-relative",style:u({right:(e.$slots.default?10:0)+"rpx"})},{default:d((()=>[p(b,{width:55,height:55,type:e.loadingType,scale:.7,"background-color":e.data.color},null,8,["type","scale","background-color"])])),_:1},8,["style"])):g("",!0),e.icon?(l(),i(v,{key:1,class:c(e.$slots.default?"kui-mr-1":"")},{default:d((()=>[p(C,{type:e.icon,color:e.data.color,weight:800,size:40},null,8,["type","color"])])),_:1},8,["class"])):g("",!0),p(v,null,{default:d((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["class","disabled","style","form-type","open-type","hover-class","hover-start-time","hover-stay-time","app-parameter","hover-stop-propagation","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","onGetphonenumber","onGetuserinfo","onError","onOpensetting","onLaunchapp"])])),_:3},8,["class","onTouchstart","onTouchend","onClick"])}],["__scopeId","data-v-e94e5490"]]);export{x as _};
