import{E as t,a4 as e,M as o,r as a,h as i,o as r,c as s,w as u,a as n,H as l,m as p,i as d,j as c,b as f,d as k,f as b}from"./index.6e0bac9a.js";import{_ as m}from"./kui-button.09ff88a3.js";import{o as y,d as _,r as v,_ as x}from"./kui-page.9f67228f.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as h}from"./kui-cell-group.96f4bfae.js";import{_ as j}from"./kui-space.b29851da.js";import{u as w}from"./element.f2d79fb5.js";import"./kui-spin.741eeb84.js";import"./kui-icons.87a80e4b.js";var S=g(t({name:"kui-sticky",props:{position:{type:String,default:"top"},top:{type:Number,default:0},bottom:{type:Number,default:0},zIndex:{type:Number,default:1e3},container:{type:Object},containerId:{type:String,default:""},proxy:{type:Object}},options:{virtualHost:!0},setup(t){e();const r=o((()=>{const e=a({});let o=t.top?t.top:0,i=t.bottom?t.bottom:0;return o=0===o?44:t.top,"top"===t.position?e.top=`${o}px`:e.bottom=`${i}px`,t.container&&(e.top="44px"),t.containerId&&(e.top=""),e}));let s=a({});return i((()=>{})),{rootStyle:r,observerStyle:s,observerStart:t=>{0===t.intersectionRatio?s.top="44px":s.top=""},observerEnd:t=>{0===t.intersectionRatio?s.top="":s.top="44px"}}}}),[["render",function(t,e,o,a,i,c){const f=d;return r(),s(f,{class:"kui-absolute kui-bg-transparent kui-h-full",style:{"z-index":"999"}},{default:u((()=>[n(f,{class:"kui-relative1 kui-sticky",style:p([t.rootStyle,t.observerStyle])},{default:u((()=>[l(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-3358b688"]]);var I=g({setup(t){const o=e(null),{proxy:a}=k(),i=c(a),r=c(a);return y((()=>{w(o,"container").then((t=>{i.relativeToViewport({top:-t.height}).observe("#container",(t=>{a.$refs.sticky.observerStart(t)})),r.relativeToViewport({top:-120}).observe("#container",(t=>{a.$refs.sticky.observerEnd(t)}))}))})),_((()=>{i.disconnect(),r.disconnect()})),{container:o,proxy:a}}},[["render",function(t,e,o,a,i,l){const p=v(b("kui-button"),m),c=v(b("kui-sticky"),S),k=d,y=v(b("kui-cell-group"),h),_=v(b("kui-space"),j),g=v(b("kui-page"),x);return r(),s(k,{id:"page-app"},{default:u((()=>[n(g,{"custom-header":!1,paddingY:0},{default:u((()=>[n(k,{class:"body kui-w-full kui-h-full kui-box-border kui-absolute kui-inset-t-0 kui-inset-l-0 kui-p-3"},{default:u((()=>[n(_,{gap:[30,0],direction:"column"},{default:u((()=>[n(y,{title:"基本用法"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:u((()=>[n(c,null,{default:u((()=>[n(p,{type:"primary"},{default:u((()=>[f("基本用法")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(y,{title:"吸顶距离"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:u((()=>[n(c,{top:100},{default:u((()=>[n(p,{type:"danger"},{default:u((()=>[f("吸顶距离100px")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(y,{title:"指定容器"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-96 kui-p-3 kui-rounded-md",ref:"container",id:"container"},{default:u((()=>[n(c,{top:100,container:a.container,proxy:a.proxy,"container-id":"container",ref:"sticky"},{default:u((()=>[n(p,{type:"warning"},{default:u((()=>[f("指定容器")])),_:1})])),_:1},8,["container","proxy"])])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-64c87e23"]]);export{I as default};
