import{_ as e}from"./kui-icons.3c452229.js";import{v as o,x as t,r as l,A as a,g as r,e as d,i as u,c as n,d as c,w as i,m as s,q as m,f as p,s as b,j as g,Z as k,h as f}from"./index.4769b127.js";import{c as S,_ as C}from"./kui-page.12878643.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as y}from"./kui-cell.8246ece5.js";import{_ as v}from"./kui-cell-group.bf65a318.js";import{_ as V}from"./kui-text.d338fb2c.js";import{_ as I}from"./kui-space.2c8c8efa.js";import{_}from"./kui-toast.f1760cdf.js";import"./kui-animation.1c71067a.js";const w={modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},inputWidth:{type:String,default:"80rpx"},inputSpacing:{type:[String,Number],default:5},inputBackgroundColor:{type:String,default:""},inputBackgroundColorLevel:{type:[String,Number],default:5},min:{type:[String,Number],default:1},max:{type:[String,Number],default:9999},step:{type:[String,Number],default:1},decimalPlaces:{type:[String,Number],default:0},mode:{type:String,default:()=>{var e,t;return null!=(t=null==(e=o(S,void 0))?void 0:e.mode)?t:"light"}},shape:{type:String,default:"round"},reduceIconColor:{type:String,default:"black"},reduceIconColorLevel:{type:[String,Number],default:5},reduceIconBackgroundColor:{type:String,default:""},reduceIconBackgroundColorLevel:{type:[String,Number],default:5},reduceBorderColor:{type:String,default:"primary"},reduceBorderColorLevel:{type:[String,Number],default:5},addIconColor:{type:String,default:"black"},addIconColorLevel:{type:[String,Number],default:5},addIconBackgroundColor:{type:String,default:"primary"},addIconBackgroundColorLevel:{type:[String,Number],default:5},addBorderColor:{type:String,default:""},addBorderColorLevel:{type:[String,Number],default:5},size:{type:[String,Number],default:24},fontSize:{type:[String,Number],default:16},borderColor:{type:String,default:""},borderColorLevel:{type:[String,Number],default:5},backgroundColor:{type:String,default:""},backgroundColorLevel:{type:[String,Number],default:5},activeAutoHidden:{type:Boolean,default:!1}};const B=h(t({name:"kui-stepper",props:w,emits:["add","reduce","forbid","change","blur","focus","update:modelValue"],setup(e,{emit:o}){const{proxy:t}=r(),d=t.$theme,u=l({modelValue:e.modelValue,isDark:"dark"===e.mode,iconSize:40,activeShow:!0}),n=l({opacity:1,activeColor:d.colors[e.mode].primary[5],inActiveColor:d.colors[e.mode].grey[9],backgroundColor:e.reduceIconBackgroundColor,iconColor:e.reduceIconColor}),c=l({opacity:1,activeColor:d.colors[e.mode].primary[5],inActiveColor:d.colors[e.mode].grey[9],backgroundColor:e.addIconBackgroundColor,iconColor:e.addIconColor}),i=(o=Number(e.modelValue))=>{const t=o>Number(e.min)&&!e.disabled;n.opacity=t?1:.5;let l=null,a="";e.reduceIconBackgroundColor&&(l=d.colors[e.mode][e.reduceIconBackgroundColor]||uni.kviewUIColor.generate(e.reduceIconBackgroundColor,{dark:u.isDark,list:!0})),a=e.reduceIconBackgroundColor?l[e.reduceIconBackgroundColorLevel]:l,n.backgroundColor=a;let r=null;return e.reduceIconColor&&(r=d.colors[e.mode][e.reduceIconColor]||uni.kviewUIColor.generate(e.reduceIconColor,{dark:u.isDark,list:!0})),n.iconColor=t?r[e.reduceIconColorLevel]:n.inActiveColor,t},s=(o=Number(e.modelValue))=>{const t=o<Number(e.max)&&!e.disabled;c.opacity=t?1:.5;let l=null,a="";e.addIconBackgroundColor&&(l=d.colors[e.mode][e.addIconBackgroundColor]||uni.kviewUIColor.generate(e.addIconBackgroundColor,{dark:u.isDark,list:!0})),a=e.addIconBackgroundColor?l[e.addIconBackgroundColorLevel]:l,c.backgroundColor=t?a:c.inActiveColor,c.backgroundColor=a;let r=null;return e.addIconColor&&(r=d.colors[e.mode][e.addIconColor]||uni.kviewUIColor.generate(e.addIconColor,{dark:u.isDark,list:!0})),c.iconColor=t?r[e.addIconColorLevel]:c.inActiveColor,t},m=a((()=>l({}))),p=a((()=>{const o=l({});return"square"===e.shape&&(o.borderRadius="10rpx"),"round"===e.shape&&(o.borderRadius=`${e.size}px`),"half-round"===e.shape&&(o.padding="0 8rpx"),o.width=o.height=`${e.size}px`,u.iconSize=1.8*e.size,o})),b=a((()=>{const o=l({});i(),o.backgroundColor=n.backgroundColor;let t=null,a=null;return e.reduceBorderColor&&(t=d.colors[e.mode][e.reduceBorderColor]||uni.kviewUIColor.generate(e.reduceBorderColor,{dark:u.isDark,list:!0}),a=t[e.reduceBorderColorLevel],o.border=`1px solid ${a}`),"half-round"===e.shape&&(o.borderTopLeftRadius=o.borderBottomLeftRadius=`${e.size}px !important`),o.opacity=n.opacity,o})),g=a((()=>{const o=l({});o.width=e.inputWidth,o.height=`${e.size}px`,o.margin=`0 ${e.inputSpacing}px`,o.fontSize=`${e.fontSize}px`;let t=null,a="";e.borderColor&&(t=d.colors[e.mode][e.borderColor]||uni.kviewUIColor.generate(e.borderColor,{dark:u.isDark,list:!0}),a=t[e.borderColorLevel],o.borderTop=o.borderBottom=`1px solid ${a}`);let r=null,n="";return e.inputBackgroundColor&&(r=d.colors[e.mode][e.inputBackgroundColor]||uni.kviewUIColor.generate(e.inputBackgroundColor,{dark:u.isDark,list:!0}),n=r[e.inputBackgroundColorLevel],o.backgroundColor=n),n&&0!==e.inputSpacing&&(o.borderRadius="8rpx",o.border=n?`1px solid ${n}`:""),o})),k=a((()=>{const o=l({});s(),o.backgroundColor=c.backgroundColor;let t=null,a=null;return e.addBorderColor&&(t=d.colors[e.mode][e.addBorderColor]||uni.kviewUIColor.generate(e.addBorderColor,{dark:u.isDark,list:!0}),a=t[e.addBorderColorLevel],o.border=`1px solid ${a}`),"half-round"===e.shape&&(o.borderTopRightRadius=o.borderBottomRightRadius=`${e.size}px !important`),o.opacity=c.opacity,o})),f=t=>{if(o("add",t),s()){e.activeAutoHidden&&(u.activeShow=!0);let o=Number(e.modelValue?e.modelValue:e.activeAutoHidden?0:e.min)+Number(e.step);y(o,t)}else o("forbid","add",t)};let S=null;const C=t=>{if(o("reduce",t),i()){let o=Number(e.modelValue?e.modelValue:e.max)-Number(e.step);y(o,t)}else e.activeAutoHidden&&(u.activeShow=!1),o("forbid","reduce",t)};e.activeAutoHidden&&(u.activeShow=!1);const h=o=>e.decimalPlaces?Number(o).toFixed(Number(e.decimalPlaces)):o,y=(e,t)=>{let l=h(e);__f__("log","at components/kui-stepper/kui-stepper.vue:285",l),o("update:modelValue",l,t),o("change",l,t)},v=o=>(o>=e.max&&(o=Number(e.max)),o<=e.min&&(o=Number(e.min)),h(o));return{name:"kui-stepper",state:u,rootStyle:m,inputStyle:g,commonIconStyle:p,reduceIconStyle:b,addIconStyle:k,onBlur:e=>{let t=e.detail.value;s(),i(),v(t),y(t,e),o("blur",t,e)},formatValue:v,add:f,onLoopAdd:e=>{S=setInterval((()=>{f(e)}),100)},onLoopReduce:e=>{S=setInterval((()=>{C(e)}),100)},clearLoop:()=>{clearInterval(S),S=null},reduce:C,reduceState:n,addState:c,reduceActive:i}}}),[["render",function(o,t,l,a,r,f){const S=d(u("kui-icons"),e),C=g,h=k;return n(),c(C,{class:s(["kui-flex kui-items-center",[o.name]]),style:m({...o.rootStyle})},{default:i((()=>[o.state.activeShow?(n(),c(C,{key:0,class:s([`${o.name}_icon`]),style:m({...o.commonIconStyle,...o.reduceIconStyle}),onClick:o.reduce},{default:i((()=>[p(S,{type:"minus",color:o.reduceState.iconColor,size:o.state.iconSize},null,8,["color","size"])])),_:1},8,["class","style","onClick"])):b("",!0),o.state.activeShow?(n(),c(C,{key:1,class:s(["kui-text-center kui-box-border",[`${o.name}_input`]])},{default:i((()=>[p(h,{class:"",type:"number",disabled:o.disabled||o.disabledInput,value:o.formatValue(o.modelValue),style:m(o.inputStyle),onBlur:o.onBlur},null,8,["disabled","value","style","onBlur"])])),_:1},8,["class"])):b("",!0),p(C,{class:s([`${o.name}_icon`]),style:m({...o.commonIconStyle,...o.addIconStyle}),onClick:o.add},{default:i((()=>[p(S,{type:"add1",color:o.addState.iconColor,size:o.state.iconSize},null,8,["color","size"])])),_:1},8,["class","style","onClick"])])),_:1},8,["class","style"])}],["__scopeId","data-v-0dc2fd5f"]]);const x=h({setup(){const e={state:l({value:"",decimalPlacesValue:"",toast:{content:"",show:!1}}),methods:{onForbid(o){e.state.toast.content="add"===o?"加号按钮不可点击":"减号按钮不可点击",e.state.toast.show=!0}}},o={state:l({value:"",decimalValue:""})},t={state:l({value:""})},a={state:l({value:""})},r={state:l({value:""})};return{baseState:e,stepState:o,disabledState:t,disabledInputState:a,rangeState:r}}},[["render",function(e,o,t,l,a,r){const s=d(u("kui-stepper"),B),m=d(u("kui-cell"),y),b=d(u("kui-cell-group"),v),k=d(u("kui-text"),V),S=d(u("kui-space"),I),h=g,w=d(u("kui-page"),C),x=d(u("kui-toast"),_);return n(),c(h,{class:"kui-w-full kui-h-full"},{default:i((()=>[p(w,{"custom-header":!1},{body:i((()=>[p(h,{class:"kui-w-full kui-h-full"},{default:i((()=>[p(S,{gap:[30,0],direction:"column"},{default:i((()=>[p(b,{title:"基本用法"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{modelValue:l.baseState.state.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.baseState.state.value=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"自定义步长10"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{step:10,min:0,modelValue:l.stepState.state.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.stepState.state.value=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"禁用全部"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{modelValue:l.disabledState.state.value,"onUpdate:modelValue":o[2]||(o[2]=e=>l.disabledState.state.value=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"禁用输入框"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"disabled-input":"",modelValue:l.disabledInputState.state.value,"onUpdate:modelValue":o[3]||(o[3]=e=>l.disabledInputState.state.value=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"最小值和最大值(min:10, max: 30)"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{min:10,max:30,modelValue:l.rangeState.state.value,"onUpdate:modelValue":o[4]||(o[4]=e=>l.rangeState.state.value=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"小数步长(step:0.5)"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{step:.5,min:4.5,modelValue:l.stepState.state.decimalValue,"onUpdate:modelValue":o[5]||(o[5]=e=>l.stepState.state.decimalValue=e)},null,8,["step","min","modelValue"])])),_:1})])),_:1}),p(b,{title:"设置保留的小数点位数(保留2位小数)"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{step:.5,decimalPlaces:2,min:4.5,modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[6]||(o[6]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["step","min","modelValue"])])),_:1})])),_:1}),p(b,{title:"自定义样式"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"reduce-border-color":"yellow","add-border-color":"yellow","add-icon-background-color":"yellow",shape:"square",modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[7]||(o[7]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1}),p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"reduce-border-color":"grey","add-border-color":"grey","add-icon-background-color":"",shape:"half-round","border-color":"grey","input-width":"60rpx","input-spacing":0,modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[8]||(o[8]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1}),p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"reduce-border-color":"grey","reduce-border-color-level":4,"reduce-icon-background-color":"grey","reduce-icon-background-color-level":2,"add-border-color":"grey","add-border-color-level":4,shape:"half-round","border-color":"grey","border-color-level":4,"add-icon-background-color":"grey","add-icon-background-color-level":2,"input-width":"60rpx","input-spacing":0,modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[9]||(o[9]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1}),p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"reduce-border-color":"danger","add-border-color":"danger","add-icon-background-color":"danger",shape:"half-round","input-background-color":"danger","input-background-color-level":2,modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[10]||(o[10]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1}),p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"reduce-border-color":"info","add-border-color":"info","add-icon-background-color":"info",shape:"half-round","input-background-color":"info","input-background-color-level":2,"border-color":"info","border-color-level":2,"input-spacing":0,modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[11]||(o[11]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"动态切换(达到最小临界值时只显示加号按钮)"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{"active-auto-hidden":"",min:1,shape:"square",modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[12]||(o[12]=e=>l.baseState.state.decimalPlacesValue=e)},null,8,["modelValue"])])),_:1})])),_:1}),p(b,{title:"不可操作点击监听"},{default:i((()=>[p(m,{"show-right-icon":!1,"click-status":!1},{content:i((()=>[p(s,{min:1,max:2,shape:"square",modelValue:l.baseState.state.decimalPlacesValue,"onUpdate:modelValue":o[13]||(o[13]=e=>l.baseState.state.decimalPlacesValue=e),onForbid:l.baseState.methods.onForbid},null,8,["modelValue","onForbid"])])),_:1})])),_:1}),p(b,{title:""},{default:i((()=>[p(k,{color:"hsl(213,10.00%, 56.86%)"},{default:i((()=>[f("示例数据为组件支持的部分数据，详细支持数据请参考组件源码和组件文档")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(x,{show:l.baseState.state.toast.show,"onUpdate:show":o[14]||(o[14]=e=>l.baseState.state.toast.show=e),content:l.baseState.state.toast.content},null,8,["show","content"])])),_:1})}]]);export{x as default};
