import{D as e,E as t,r as o,M as i,L as l,G as r,d as u,f as n,o as a,c as s,w as c,a as f,m as p,H as d,b as k,I as y,q as m,l as x,i as g,Y as b,a9 as C,aa as h}from"./index.6e0bac9a.js";import{_ as S}from"./kui-icons.87a80e4b.js";import{c as _,r as w}from"./kui-page.9f67228f.js";import{_ as z}from"./kui-text.66024d1c.js";import{_ as j}from"./kui-button.09ff88a3.js";import{_ as B}from"./kui-popup.45005a92.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";var $=D(t({name:"kui-dialog",props:{mode:{type:String,default:()=>{var t,o;return null!=(o=null==(t=e(_,void 0))?void 0:t.mode)?o:"light"}},showIcon:{type:Boolean,default:!1},iconPrefix:{type:String,default:"boot"},iconName:{type:String,default:""},iconColor:{type:String,default:"primary"},iconColorLevel:{type:[String,Number],default:5},iconSize:{type:[String,Number],default:80},title:{type:String,default:""},titleAlign:{type:String,default:"center"},show:{type:Boolean,default:!1},content:{type:String,default:""},contentAlign:{type:String,default:"center"},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"},cancelAutoClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1},footerDirection:{type:String,default:"row"},dialogClass:{type:String,default:""},dialogStyle:{type:Object,default:{}},dialogRadius:{type:String,default:"base"},type:{type:String,default:"normal"},footerType:{type:String,default:"margin"},placeholderText:{type:String,default:"请输入内容"}},emits:["update:show","confirm","cancel"],options:{virtualHost:!0},setup(e,t){const{proxy:n}=u(),a=n.$theme,s=o({mode:e.mode,footerDirection:e.footerDirection}),c=i((()=>(a.colors[e.mode][e.iconColor]||uni.kviewUIColor.generate(e.iconColor,{dark:"dark"===e.mode,list:!0}))[e.iconColorLevel])),f=i((()=>{const t=o({});return t.justifyContent=e.titleAlign,t.fontSize=`${a.size.fonts.lg}${a.size.fontUnit}`,t})),p=i((()=>{const t=o({});return t.width="570rpx",t.minHeight="312rpx",t.padding="40rpx 30rpx 16rpx 30rpx",t.padding="no-margin"===e.footerType?"40rpx 0rpx 0rpx 0rpx":t.padding,t.backgroundColor=a.colors[s.mode].grey[0],t.borderRadius=`${a.size.radiusSize[e.dialogRadius]}rpx`,t})),d=i((()=>{const t=o({});return t.justifyContent=e.contentAlign,"right"===e.contentAlign&&(t.justifyContent="flex-end"),t.color=a.colors[s.mode].grey[5],t.fontSize=`${a.size.fonts.base}rpx`,t})),k=i((()=>{const e=o({});return e.caretColor=a.colors[s.mode].primary[5],e.backgroundColor=a.colors[s.mode].grey[1],e.padding="0rpx 40rpx",e.borderRadius=`${a.size.radiusSize.xl}rpx`,e.color=a.colors[s.mode].grey[8],e.fontSize=a.size.fonts.lg/2+"px",e.height="80rpx",e})),y=(e="normal")=>{"normal"===e&&(s.footerDirection=s.footerDirection?s.footerDirection:"row"),"tips"===e&&(s.footerDirection="column"),"edit"===e&&(s.footerDirection="row")};y(),l((()=>[e.show,e.type,e.footerDirection]),(e=>{e[0]&&n.$refs.popupDialog.open(),y(e[1]),e[2]&&(s.footerDirection=e[2])}));const m=()=>{t.emit("cancel"),n.$refs.popupDialog.forceClose()},x=()=>{t.emit("confirm"),n.$refs.popupDialog.forceClose()};return r("changeMode",(e=>{s.mode=e})),{state:s,rootStyle:p,getIconColor:c,titleStyle:f,contentStyle:d,inputStyle:k,closedPopup:()=>{t.emit("update:show",!1)},theme:a,getType:y,onCancel:m,onConfirm:x,cancel:()=>{m()},confirm:()=>{x()}}}}),[["render",function(e,t,o,i,l,r){const u=w(n("kui-icons"),S),_=g,D=w(n("kui-text"),z),$=b,T=C,v=h,R=w(n("kui-button"),j),A=w(n("kui-popup"),B);return a(),s(_,{class:"kui-dialog"},{default:c((()=>[f(A,{"close-on-click-mask":!1,"radius-size":e.dialogRadius,ref:"popupDialog",height:"200rpx",onClose:e.closedPopup},{default:c((()=>[f(_,{class:"kui-flex kui-flex-col kui-justify-between kui-box-border",style:p(e.rootStyle)},{default:c((()=>[f(_,{class:"kui-items-center kui-w-full"},{default:c((()=>[f(_,{class:"kui-flex kui-justify-center kui-mb-2"},{default:c((()=>[d(e.$slots,"icon",{},(()=>[f(u,{prefix:e.iconPrefix,color:e.getIconColor,type:e.iconName,size:e.iconSize},null,8,["prefix","color","type","size"])]),!0)])),_:3}),d(e.$slots,"title",{},(()=>[e.title?(a(),s(_,{key:0,class:"kui-w-full kui-flex kui-px-3 kui-box-border",style:p(e.titleStyle)},{default:c((()=>[f(D,{color:e.theme.colors[e.state.mode].grey[9],size:`${e.theme.size.fonts.lg}rpx`},{default:c((()=>[k(y(e.title),1)])),_:1},8,["color","size"])])),_:1},8,["style"])):m("",!0)]),!0),d(e.$slots,"content",{},(()=>[f(_,{class:"kui-w-full kui-h-full kui-px-1 kui-flex kui-mt-3 kui-box-border kui-leading-none"},{default:c((()=>["edit"!==e.type?(a(),s(T,{key:0,class:"kui-flex kui-text-center kui-w-full kui-h-5","scroll-y":!0},{default:c((()=>[f(_,{class:"kui-flex",style:p(e.contentStyle)},{default:c((()=>[f($,{nodes:e.content,decode:""},null,8,["nodes"])])),_:1},8,["style"])])),_:1})):(a(),s(_,{key:1,class:"kui-my-1 kui-w-full kui-flex kui-justify-center kui-h-full kui-box-border"},{default:c((()=>[f(v,{type:"text",class:"kui-text-center kui-box-border kui-flex kui-flex-col kui-justify-center kui-items-center dialog-input",placeholder:e.placeholderText,"placeholder-class":"kui-text-center kui-text-gray-400 kui-leading-none kui-flex kui-items-center kui-justify-center kui-box-border dialog-input-placeholder",style:p(e.inputStyle)},null,8,["placeholder","style"])])),_:1}))])),_:1})]),!0)])),_:3}),f(_,{class:"kui-pb-0 kui-w-full kui-h-full kui-flex"},{default:c((()=>[d(e.$slots,"footer",{},(()=>["margin"===e.footerType?(a(),s(_,{key:0,class:x(["kui-pb-2 kui-w-full kui-h-full",["edit"===e.type?"":"kui-mt-1"]])},{default:c((()=>["row"==e.state.footerDirection?(a(),s(_,{key:0,class:"kui-w-full kui-flex kui-justify-between kui-mt-5 kui-px-3 kui-box-border"},{default:c((()=>[f(R,{block:"",type:"primary",text:"",outline:"",onClick:e.onCancel},{default:c((()=>[k(y(e.cancelButtonText),1)])),_:1},8,["onClick"]),f(_,{class:"kui-mx-3"}),f(R,{block:"",type:"primary",onClick:e.onConfirm},{default:c((()=>[k(y(e.confirmButtonText),1)])),_:1},8,["onClick"])])),_:1})):m("",!0),"column"==e.state.footerDirection||"tips"===e.type?(a(),s(_,{key:1,class:"kui-h-full kui-w-full kui-flex kui-flex-col kui-justify-between kui-mb-0 kui-px-12 kui-box-border kui-mt-3"},{default:c((()=>[f(R,{block:"",type:"primary",onClick:e.onConfirm},{default:c((()=>[k(y(e.confirmButtonText),1)])),_:1},8,["onClick"]),f(_,{class:"kui-mt-1"}),"normal"==e.type?(a(),s(R,{key:0,block:"",type:"primary",text:"",onClick:e.onCancel},{default:c((()=>[k(y(e.cancelButtonText),1)])),_:1},8,["onClick"])):m("",!0)])),_:1})):m("",!0)])),_:1},8,["class"])):(a(),s(_,{key:1,class:"kui-w-full kui-flex kui-flex-col kui-mt-5"},{default:c((()=>[f(_,{class:"kui-w-full",style:p({height:"0px",borderTop:`1rpx solid ${e.theme.colors[e.state.mode].primary[5]}`})},null,8,["style"]),"row"==e.state.footerDirection?(a(),s(_,{key:0,class:"kui-w-full kui-flex kui-justify-between kui-box-border"},{default:c((()=>[f(R,{block:"",type:"primary",size:"large",radius:30,shape:"square",text:"",onClick:e.onCancel},{default:c((()=>[k(y(e.cancelButtonText),1)])),_:1},8,["onClick"]),f(_,{class:"kui-w-full",style:p({borderTop:`1rpx solid ${e.theme.colors[e.state.mode].primary[5]}`,backgroundColor:`${e.theme.colors[e.state.mode].primary[5]}`,borderBottomRightRadius:"30rpx"})},{default:c((()=>[f(R,{block:"",gradient:!1,type:"primary",size:"large",radius:30,shape:"square",onClick:e.onConfirm},{default:c((()=>[k(y(e.confirmButtonText),1)])),_:1},8,["onClick"])])),_:1},8,["style"])])),_:1})):m("",!0)])),_:1}))]),!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["radius-size","onClose"])])),_:3})}],["__scopeId","data-v-06967a96"]]);export{$ as _};
