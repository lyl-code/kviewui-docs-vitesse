import{v as e,P as l,x as t,T as a,r as o,A as u,g as s,e as i,i as r,c as d,G as n,f as c,w as p,I as m,H as f,d as k,q as h,h as g,B as w,z as y,s as _,m as x,t as v,j as V,N as b,n as S,a2 as C}from"./index.4769b127.js";import{_ as U}from"./kui-icons.3c452229.js";import{_ as z}from"./kui-text.d338fb2c.js";import{_ as j}from"./kui-overlay.4319bfe8.js";import{c as I,_ as D}from"./kui-page.12878643.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as L}from"./kui-cell-group.bf65a318.js";import{_ as O}from"./kui-button.fcbf8c10.js";import{_ as F}from"./kui-space.2c8c8efa.js";import{_ as B}from"./kui-toast.f1760cdf.js";import{_ as R}from"./kui-dialog.49214080.js";import"./kui-spin.40ca1a3c.js";import"./kui-animation.1c71067a.js";import"./kui-popup.6cc4c5f3.js";const N={modelValue:{type:Array,default:[]},name:{type:String,default:"file"},accept:{type:String,default:"*"},url:{type:String,default:""},previewImage:{type:Boolean,default:!0},deleteable:{type:Boolean,default:!0},method:{type:String,default:"post"},uploadIconSize:{type:[Number,String],default:200},uploadIcon:{type:String,default:""},previewFullImage:{type:Boolean,default:!0},capture:{type:String,default:""},maxSize:{type:[Number,String],default:Number.MAX_VALUE},maxCount:{type:[Number,String],default:9},headers:{type:Object,default:{}},formData:{type:Object,default:{}},xhrCode:{type:[Number,String],default:200},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},timeout:{type:[Number,String],default:3e4},beforeUpload:{type:Function,default:null},beforeDelete:{type:Function,default:(e,l)=>!0},mode:{type:String,default:()=>{var l,t;return null!=(t=null==(l=e(I,void 0))?void 0:l.mode)?t:"light"}},sizeType:{type:Array,default:()=>["original","compressed"]},sourceType:{type:Array,default:()=>["album","camera"]},crop:{type:Object,default:null},beforeXhrUpload:{type:Function,default:null},autoUpload:{type:Boolean,default:!0},id:{type:[String,Number],default:""},xhrCodeName:{type:String,default:""}};class E{}class T{constructor(){this.url="",this.name="file",this.fileType="image",this.method="post",this.xhrCode=200,this.timeout=3e4,this.headers={},this.withCredentials=!1}}class ${constructor(e){this.options=e}xhrUpload(){var e;const t=this.options;l("log","at components/kui-uploader/uploader.ts:30",t);const a=new XMLHttpRequest;if(a.timeout=t.timeout,a.upload){a.upload.addEventListener("progress",(e=>{var l;null==(l=t.onProgress)||l.call(t,e,t)}),!1),a.onreadystatechange=()=>{var e,l;a.readyState===XMLHttpRequest.DONE&&(a.status===t.xhrCode?null==(e=t.onSuccess)||e.call(t,a.responseText,t):null==(l=t.onFailure)||l.call(t,a.responseText,t))},a.withCredentials=t.withCredentials,a.open(t.method,t.url,!0);for(const[e,l]of Object.entries(t.headers))a.setRequestHeader(e,l);null==(e=t.onStart)||e.call(t,t),t.beforeXhrUpload?t.beforeXhrUpload(a,t):(l("log","at components/kui-uploader/uploader.ts:60",t.formData),a.send(t.formData))}else l("warn","at components/kui-uploader/uploader.ts:64","您的浏览器不支持XMLHttpRequest")}upload(e){var t;const a=this.options;if(a.beforeXhrUpload)a.beforeXhrUpload(e,a);else{const o=e({url:a.url,filePath:a.filePath,fileType:a.fileType,header:{...a.headers},formData:a.formData,timeout:a.timeout,name:a.name,success:e=>{var t,o,u;if(l("log","at components/kui-uploader/uploader.ts:86",e),200===e.statusCode||201===e.statusCode){let l=JSON.parse(e.data),u=a.xhrCodeName?l[a.xhrCodeName]:e.statusCode;a.xhrCode==u?null==(t=a.onSuccess)||t.call(a,e,a):null==(o=a.onFailure)||o.call(a,e,a)}else null==(u=a.onFailure)||u.call(a,e,a)},fail:e=>{var l;null==(l=a.onFailure)||l.call(a,e,a)}});null==(t=a.onStart)||t.call(a,a),o.onProgressUpdate((e=>{var t;null==(t=a.onProgress)||t.call(a,e,a),l("log","at components/kui-uploader/uploader.ts:106","上传进度",e.progress),l("log","at components/kui-uploader/uploader.ts:107","已经上传的数据长度",e.totalBytesSent),l("log","at components/kui-uploader/uploader.ts:108","预期需要上传的数据总长度",e.totalBytesExpectedToSend)}))}}}const X=(e,l)=>{if(!(null==e?void 0:e.length))return e;if(2*e.length<=l)return e;let t=0,a="";for(let o=0;o<e.length;o++)if(a+=e.charAt(o),e.charCodeAt(o)>128){if(t+=2,t>=l)return a.substring(0,a.length-1)+"..."}else if(t+=1,t>=l)return a.substring(0,a.length-2)+"...";return a},A=async(e,l=.6)=>{let t=e,a=new FileReader;a.readAsDataURL(t);return new Promise(((e,o)=>{a.onload=a=>{let o=new Image;o.src=a.target.result,o.onload=()=>{const a=document.createElement("canvas"),u=a.getContext("2d");a.width=o.width,a.height=o.height,u.clearRect(0,0,o.width,o.height),u.fillStyle="#FFF",u.fillRect(0,0,a.width,a.height),u.drawImage(o,0,0,o.width,o.height),((e,l,t)=>new Promise((a=>{e.toBlob((e=>a(e)),l,t)})))(a,"image/jpeg",l).then((l=>{const a=new File([l],t.name);Object.defineProperty(a,"path",{get:()=>(e=>(window.URL||window.webkitURL).createObjectURL(e))(a)}),e(a)}))}}}))};const q=P(t({name:"kui-uploader",props:N,emits:["oversize","start","progress","success","update:modelValue","failed","change","delete","item-click"],setup(e,{emit:l}){const{proxy:t}=s(),i=t.$theme,r=a(null),d=o({mode:e.mode,fileList:(l=>{let t=l.length;return t>e.maxCount&&l.splice(l.length-(t-+e.maxCount)),l.forEach((e=>{e.error=!1})),l})(e.modelValue),uploadQueue:[]}),n=`${i.size.radiusSize.xs}rpx`,c=u((()=>{const l=o({});return l.width=l.height=`${e.uploadIconSize}rpx`,l.backgroundColor=i.colors[d.mode].grey[1],l.marginRight=l.marginBottom="30rpx",l.borderRadius=n,l.opacity=e.disabled?.7:1,l})),p=u((()=>{const l=o({});return l.width=l.height=`${e.uploadIconSize}rpx`,l.borderRadius=n,l})),m=u((()=>{const e=o({});return e.backgroundColor=`rgba(0,0,0,${i.size.shadeOpenness})`,e.borderRadius=n,e})),f=(e=-1)=>{e>-1?d.uploadQueue.slice(e,1):d.uploadQueue=[]},k=t=>{const a=+e.maxSize,o=+e.maxCount,u=[];t=t.filter((e=>!(e.size>a)||(u.push(e),!1))),u.length&&l("oversize",u);let s=t.length+d.fileList.length;return s>o&&t.slice(t.length-(s-o)),t},h=t=>{t.forEach(((t,a)=>{let u=t.type;const s=o(new E);var i;!u&&(i=t.path,/\.(png|jpeg|jpg|webp|gif)$/i.test(i))&&(u="image"),s.path=t.path,s.name=t.name,s.status="ready",s.message="等待上传",s.type=u,s.id=e.id;const r=new FormData;for(const[l,o]of Object.entries(e.formData))r.append(l,o);r.append(e.name,t.originalFileObj),s.name=t.name,s.type=t.type,s.formData=r,e.previewImage&&(s.url=t.path),d.fileList.push(s),((t,a)=>{const o=new T;o.name=e.name,o.url=e.url,o.fileType=t.type,o.formData=t.formData,o.timeout=+e.timeout,o.method=e.method,o.xhrCode=+e.xhrCode,o.headers=e.headers,o.filePath=t.path,o.beforeXhrUpload=e.beforeXhrUpload,o.id=t.id,o.xhrCodeName=e.xhrCodeName,o.onStart=e=>{t.status="ready",t.message="准备上传",__f__("log","at components/kui-uploader/kui-uploader.vue:190","等待上传中"),f(a),l("start",e)},o.onProgress=(e,a)=>{t.status="uploading",t.message="正在上传...",t.progress=e.progress,__f__("log","at components/kui-uploader/kui-uploader.vue:198","正在上传..."),l("progress",{event:e,option:a,progress:t.progress})},o.onSuccess=(e,a)=>{t.status="success",t.message="上传成功",__f__("log","at components/kui-uploader/kui-uploader.vue:204","上传成功"),l("success",{data:e,response:e,option:a,fileItem:t}),l("update:modelValue",d.fileList)},o.onFailure=(e,a)=>{t.status="failed",t.message="上传失败",__f__("log","at components/kui-uploader/kui-uploader.vue:216","上传失败"),l("failed",{data:e,response:e,option:a,fileItem:t})};let u=new $(o);e.autoUpload?u.upload(uni.uploadFile):d.uploadQueue.push(new Promise(((e,l)=>{e(u)})))})(s,a)}))},g=t=>{const{tempFilePaths:a,tempFiles:o}=t;if(e.beforeUpload)e.beforeUpload(o).then((e=>{__f__("log","at components/kui-uploader/kui-uploader.vue:333",e);const l=k(e);h(l)}));else{const e=k(o);h(e)}l("change",{...d.fileList})},w=t=>{d.fileList.splice(t,1),l("delete",{index:t,id:e.id,...d.fileList})};return{name:"kui-uploader",theme:i,ellipsis:X,uploadContainerStyle:c,imageStyle:p,del:w,overlayStyle:m,state:d,loadImageError:e=>{__f__("log","at components/kui-uploader/kui-uploader.vue:247",d.fileList),d.fileList[e].error=!0,l("update:modelValue",d.fileList)},submit:()=>{Promise.all(d.uploadQueue).then((e=>{e.forEach((e=>e.upload(uni.uploadFile)))}))},onChooseImage:l=>{e.disabled||uni.chooseImage({count:+e.maxCount-e.modelValue.length,sizeType:e.sizeType,sourceType:e.sourceType,crop:e.crop,success:g})},onDelete:(l,t)=>{f(t),e.beforeDelete(t,d.fileList)&&w(t)},onImagePreview:(t,a)=>{var o;if(__f__("log","at components/kui-uploader/kui-uploader.vue:380",t),null==(o=e.modelValue[t])?void 0:o.onClickItem)e.modelValue[t].onClickItem();else if(e.previewFullImage){let l=e.modelValue.map((e=>e.url));uni.previewImage({current:t,urls:l,indicator:"number",complete:e=>{__f__("log","at components/kui-uploader/kui-uploader.vue:392",e)}})}((t,a)=>{l("item-click",{index:t,id:e.id,...d.fileList},a)})(t,a)},overlay:r}}}),[["render",function(e,l,t,a,o,u){const s=v,b=i(r("kui-icons"),U),S=i(r("kui-text"),z),C=V,I=i(r("kui-overlay"),j);return d(),n(m,null,[c(C,{class:x(["kui-flex kui-items-center kui-flex-wrap",e.name])},{default:p((()=>[e.modelValue.length>0?(d(!0),n(m,{key:0},f(e.modelValue,((l,t)=>(d(),k(C,{key:t,class:"kui-flex kui-flex-col kui-justify-center kui-items-center kui-relative kui-overflow-hidden",style:h(e.uploadContainerStyle)},{default:p((()=>[!l.error&&e.previewImage?(d(),k(s,{key:0,src:l.url,style:h(e.imageStyle),onError:l=>e.loadImageError(t),onClick:l=>e.onImagePreview(t,l)},null,8,["src","style","onError","onClick"])):(d(),k(C,{key:1,class:"kui-w-full kui-h-full kui-flex kui-flex-col kui-justify-center kui-items-center"},{default:p((()=>[c(b,{type:"image",color:e.theme.colors[e.state.mode].grey[3],size:50},null,8,["color"]),c(C,{class:"kui-w-full kui-flex kui-justify-center kui-flex-wrap kui-mt-1 kui-text-center"},{default:p((()=>[c(S,{color:e.theme.colors[e.state.mode].grey[5]},{default:p((()=>[g(w(e.ellipsis(l.name,16)),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1024)),e.deleteable?(d(),k(C,{key:2,class:"kui-absolute kui-inset-r-0 kui-inset-t-0 kui-z-50"},{default:p((()=>[y(e.$slots,"delete-btn",{},(()=>[c(C,{class:"kui-bg-black kui-h-4 kui-w-4 kui-flex kui-flex-col kui-justify-center kui-items-center kui-p-1 kui-box-border",style:{borderBottomLeftRadius:"20px"}},{default:p((()=>[c(C,{class:"kui-relative",style:{top:"-1px",right:"-1px"},onClick:a=>e.onDelete(l,t)},{default:p((()=>[c(b,{type:"clear",color:"white",size:30})])),_:2},1032,["onClick"])])),_:2},1024)]))])),_:2},1024)):_("",!0),"success"!==l.status?(d(),k(C,{key:3,class:"kui-absolute kui-w-full kui-h-full kui-flex kui-justify-center kui-items-center",style:h(e.overlayStyle)},{default:p((()=>[c(C,{class:"kui-flex kui-flex-col kui-items-center kui-justify-center"},{default:p((()=>["uploading"===l.status?(d(),k(C,{key:0,class:"kui-animate-spin"},{default:p((()=>[c(b,{type:"spinner6",color:"white",size:40})])),_:1})):"ready"!==l.status?(d(),k(C,{key:1,class:"kui-w-3.5 kui-h-3.5 kui-p-px kui-rounded-3xl kui-border-1 kui-border-white kui-border-solid kui-flex kui-flex-col kui-justify-center kui-items-center"},{default:p((()=>[c(b,{type:"clear",color:"white",size:30})])),_:1})):_("",!0),c(C,{class:"kui-mt-1"},{default:p((()=>[c(S,{color:"white",size:`${e.theme.size.fonts.sm}rpx`},{default:p((()=>[g(w(l.message),1)])),_:2},1032,["size"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])):_("",!0),"success"===l.status?y(e.$slots,"preview-cover",{key:4}):_("",!0)])),_:2},1032,["style"])))),128)):_("",!0),e.maxCount-e.state.fileList.length?(d(),k(C,{key:1,onClick:e.onChooseImage},{default:p((()=>[y(e.$slots,"default",{},(()=>[c(C,{class:"kui-flex kui-flex-col kui-justify-center kui-items-center",style:h(e.uploadContainerStyle)},{default:p((()=>[y(e.$slots,"upload-icon",{},(()=>[c(b,{type:"camera1",color:e.theme.colors[e.state.mode].grey[e.disabled?2:3],size:50},null,8,["color"])]))])),_:3},8,["style"])]))])),_:3},8,["onClick"])):_("",!0)])),_:3},8,["class"]),c(I,{ref:"overlay","overlay-ness":.95},{content:p((()=>[c(C,{class:"kui-w-full kui-absolute kui-inset-t-0 kui-flex kui-justify-center"},{default:p((()=>[c(C,{class:"kui-flex kui-mt-4"},{default:p((()=>[c(S,{color:"white"},{default:p((()=>[g("1 / 2")])),_:1})])),_:1})])),_:1}),c(C,{class:"kui-w-full kui-h-full kui-absolute kui-inset-t-0 kui-inset-l-0"},{default:p((()=>[c(C,{class:"kui-h-full kui-flex kui-justify-center kui-items-center"},{default:p((()=>[c(C,{class:"kui-w-10 kui-h-10 kui-bg-red-500"})])),_:1})])),_:1})])),_:1},8,["overlay-ness"])],64)}]]);const H=P({setup(){const{proxy:e}=s(),l=e.$theme,t=a("light"),u=o({show:!1,src:""}),i=a(null),r=a(null),d=a([]),n=a([{url:"https://www.kviewui.com/images/dog1.png",status:"ready",message:"准备上传"},{url:"https://www.kviewui.com/images/dog1.png",status:"uploading",message:"上传中..."},{url:"https://www.kviewui.com/images/dog1.png",status:"failed",message:"上传失败"}]),c=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success",name:"图片1111.png"},{url:"https://www.kviewui.com/images/squirrel.png",status:"success",name:"图片2222.png"}]),p=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success"}]),m=a([]),f=o({show:!1,content:""}),k=a([]),h=a([]),g=a([{url:"https://www.kviewui.com/images/squirrel.png",status:"success"}]),w=a([]),y=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success"}]),_=o({show:!1,content:"",title:"提示"}),x=a([]),v=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success"}]),V=a(0),C=a(null),U=a([]),z=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success"},{url:"https://www.kviewui.com/images/dog1.png",status:"success"}]),j=a([{url:"https://www.kviewui.com/images/dog.jpg",status:"success"},{url:"https://www.kviewui.com/images/dog1.png",status:"success",onClickItem:()=>new Promise(((e,l)=>{S((()=>{r.value.open(),u.src="https://www.runoob.com/try/demo_source/mov_bbb.mp4",u.show=!0;uni.createVideoContext("myVideo").play()})),e(!0)}))}]);return{theme:l,...b({mode:t,baseValue:d,statusValue:n,previewValue:c,maxCountValue:p,maxSizeValue:m,customUploadStyleValue:k,customUploadIconValue:h,customPreviewStyleValue:g,customUploadValue:w,customUploadIconSizeValue:y,beforeDeleteValue:v,beforeUploadValue:x,disabledValue:U,disablePreviewImageValue:z,customItemClickValue:j}),url:"https://kviewui-api.vercel.app/file/upload/add",toastState:f,onOversize:e=>{__f__("log","at pages/components/uploader/uploader.vue:225",e),f.content="图片大小不能超过50k",f.show=!0},uploader:i,customUploadEvent:()=>{i.value.submit()},onBeforeDelete:(e,l)=>(_.content="是否删除该图片？",_.show=!0,V.value=e,!1),onBeforeUpload:async e=>new Promise(((l,t)=>{let a=e[0].size;A(e[0]).then((e=>{f.content=`压缩前大小：${a}字节\n压缩后大小：${e.size}字节`,__f__("log","at pages/components/uploader/uploader.vue:305",f.content),f.show=!0,l([e])}))})),dialogState:_,onItemClick:(e,l)=>{__f__("log","at pages/components/uploader/uploader.vue:335",e),__f__("log","at pages/components/uploader/uploader.vue:336",l),f.content="请查看控制台事件回调",f.show=!0},videoState:u,videoOverlay:r,beforeDeleteUploader:C,confirmDelete:()=>{C.value.del(V)}}}},[["render",function(e,l,t,a,o,u){const s=i(r("kui-uploader"),q),n=i(r("kui-cell-group"),L),m=V,f=i(r("kui-icons"),U),w=i(r("kui-button"),O),y=i(r("kui-text"),z),x=i(r("kui-space"),F),v=i(r("kui-page"),D),b=i(r("kui-toast"),B),S=i(r("kui-dialog"),R),I=C,P=i(r("kui-overlay"),j);return d(),k(m,{class:"kui-w-full kui-h-full"},{default:p((()=>[c(v,{bgColor:"white","custom-header":!1},{body:p((()=>[c(m,{class:"kui-w-full"},{default:p((()=>[c(x,{gap:[20,0]},{default:p((()=>[c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"基本用法"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.baseValue,"onUpdate:modelValue":l[0]||(l[0]=l=>e.baseValue=l)},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"上传状态",desc:"status: ready/准备上传,uploading/上传中...,failed/上传失败,success/上传成功"},{default:p((()=>[c(s,{modelValue:e.statusValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.statusValue=l),"max-count":3},null,8,["modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"上传完成不显示预览图",desc:"展示图片name值"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.previewValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.previewValue=l),"preview-image":!1},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"文件预览",desc:"原生预览"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.previewValue,"onUpdate:modelValue":l[3]||(l[3]=l=>e.previewValue=l)},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"限制上传数量"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.maxCountValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.maxCountValue=l),"max-count":2},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"限制上传大小(限制50k)",desc:"oversize事件回调"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.maxSizeValue,"onUpdate:modelValue":l[5]||(l[5]=l=>e.maxSizeValue=l),onOversize:a.onOversize,"max-size":51200},null,8,["url","modelValue","onOversize"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"自定义上传图标"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customUploadStyleValue,"onUpdate:modelValue":l[6]||(l[6]=l=>e.customUploadStyleValue=l),onOversize:a.onOversize,"max-size":51200},{"upload-icon":p((()=>[c(f,{type:"add1",color:a.theme.colors[e.mode].grey[3],size:80},null,8,["color"])])),_:1},8,["url","modelValue","onOversize"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"自定义上传样式"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customUploadStyleValue,"onUpdate:modelValue":l[7]||(l[7]=l=>e.customUploadStyleValue=l),onOversize:a.onOversize,"max-size":51200},{default:p((()=>[c(w,{type:"primary"},{default:p((()=>[g("上传文件")])),_:1})])),_:1},8,["url","modelValue","onOversize"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"预览图自定义样式"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customPreviewStyleValue,"onUpdate:modelValue":l[8]||(l[8]=l=>e.customPreviewStyleValue=l),"max-count":2},{"preview-cover":p((()=>[c(m,{class:"kui-absolute kui-inset-b-0 kui-inset-l-0 kui-w-full"},{default:p((()=>[c(m,{class:"kui-flex kui-justify-center kui-py-1",style:h({backgroundColor:"rgba(0,0,0,.2)"})},{default:p((()=>[c(y,{color:"white"},{default:p((()=>[g("图片名称")])),_:1})])),_:1},8,["style"])])),_:1})])),_:1},8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"手动上传"},{default:p((()=>[c(s,{ref:"uploader",url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customUploadValue,"onUpdate:modelValue":l[9]||(l[9]=l=>e.customUploadValue=l),"auto-upload":!1},null,8,["url","modelValue"]),c(m,{class:"kui-mt-1"},{default:p((()=>[c(w,{type:"primary",onClick:a.customUploadEvent},{default:p((()=>[g("点击上传")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"自定义预览图大小"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customUploadIconSizeValue,"onUpdate:modelValue":l[10]||(l[10]=l=>e.customUploadIconSizeValue=l),"upload-icon-size":150,"max-count":2},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"上传前置处理(before-upload回调)",desc:"演示上传前图片压缩"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.beforeUploadValue,"onUpdate:modelValue":l[11]||(l[11]=l=>e.beforeUploadValue=l),"upload-icon-size":160,"max-count":2,"before-upload":a.onBeforeUpload},null,8,["url","modelValue","before-upload"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"删除前置处理(before-delete回调)",desc:"演示删除前二次确认场景"},{default:p((()=>[c(s,{ref:"beforeDeleteUploader",url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.beforeDeleteValue,"onUpdate:modelValue":l[12]||(l[12]=l=>e.beforeDeleteValue=l),"max-count":2,"before-delete":a.onBeforeDelete},null,8,["url","modelValue","before-delete"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"禁用文件上传"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.disabledValue,"onUpdate:modelValue":l[13]||(l[13]=l=>e.disabledValue=l),disabled:"","max-count":2},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"禁用点击查看大图",desc:"可通过item-click事件回调自定义业务逻辑"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.disablePreviewImageValue,"onUpdate:modelValue":l[14]||(l[14]=l=>e.disablePreviewImageValue=l),"max-count":2,"preview-full-image":!1,onItemClick:a.onItemClick},null,8,["url","modelValue","onItemClick"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:"自定义单个图片点击事件",desc:"演示点击第二个图片播放视频(视频资源来源于varletui组件库演示)"},{default:p((()=>[c(s,{url:a.url,"xhr-code-name":"errcode","xhr-code":"0",modelValue:e.customItemClickValue,"onUpdate:modelValue":l[15]||(l[15]=l=>e.customItemClickValue=l),"max-count":2},null,8,["url","modelValue"])])),_:1})])),_:1}),c(m,{class:"kui-w-full"},{default:p((()=>[c(n,{title:""},{default:p((()=>[c(y,{color:"hsl(213,10.00%, 56.86%)"},{default:p((()=>[g("示例数据为组件支持的部分数据，详细支持数据请参考组件源码和组件文档")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),c(b,{show:a.toastState.show,"onUpdate:show":l[16]||(l[16]=e=>a.toastState.show=e),content:a.toastState.content},null,8,["show","content"]),c(S,{show:a.dialogState.show,"onUpdate:show":l[17]||(l[17]=e=>a.dialogState.show=e),title:a.dialogState.title,content:a.dialogState.content,onConfirm:a.confirmDelete},null,8,["show","title","content","onConfirm"]),c(P,{ref:"videoOverlay"},{content:p((()=>[c(m,{class:"kui-w-full kui-h-full kui-flex kui-items-center"},{default:p((()=>[a.videoState.show?(d(),k(I,{key:0,id:"myVideo",class:"kui-absolute kui-inset-t-0 kui-inset-l-0 kui-h-full kui-w-full",src:a.videoState.src},null,8,["src"])):_("",!0)])),_:1})])),_:1},512)])),_:1})}]]);export{H as default};
