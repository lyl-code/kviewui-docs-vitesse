import{_ as e}from"./kui-icons.3c452229.js";import{v as t,x as o,A as a,r as i,y as l,g as r,e as s,i as n,c,d,w as u,f as m,m as p,q as g,s as k,h as f,B as y,j as v}from"./index.4769b127.js";import{_ as x}from"./kui-animation.1c71067a.js";import{_ as S}from"./kui-text.d338fb2c.js";import{c as b}from"./kui-page.12878643.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";const C=h(o({name:"kui-switch",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},iconColor:{type:String,default:"primary"},icon:{type:String,default:""},activeColor:{type:String,default:"primary"},inactiveColor:{type:String,default:"grey"},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},mode:{type:String,default:()=>{var e,o;return null!=(o=null==(e=t(b,void 0))?void 0:e.mode)?o:"light"}}},emits:["update:modelValue","change"],setup(e,{emit:t}){const o=`kUI_${Math.ceil(1e6*(new Date).getTime()).toString(36)}`,{proxy:s}=r(),n=s.$theme,c=a((()=>e.modelValue===e.activeValue)),d=i({disabled:e.disabled,loading:e.loading,isDark:"dark"===e.mode,id:o}),u=i({status:c.value?"open":"close"}),m=i({size:20,color:""}),p=i({color:n.colors[e.mode].grey[0],size:`${n.size.fonts.sm}rpx`}),g=n.colors[e.mode][e.iconColor]?n.colors[e.mode][e.iconColor]:uni.kviewUIColor.generate(e.iconColor,{dark:d.isDark,list:!0}),k=n.colors[e.mode][e.inactiveColor],f=()=>{m.color=c.value?g[5]:k[4]};f();const y=a((()=>{const t=i({});t.width="72rpx",t.height="42rpx";const o=n.colors[e.mode][e.activeColor]?n.colors[e.mode][e.activeColor]:uni.kviewUIColor.generate(e.activeColor,{dark:d.isDark,list:!0});return t.backgroundColor=o[5],c.value?(t.backgroundImage=`linear-gradient(to right, ${o[5]}, ${o[4]})`,u.status="open"):(t.backgroundColor=k[2],u.status="close"),t.borderRadius="42rpx",d.disabled&&(t.opacity=.7),t})),v=a((()=>{const t=i({});return t.width=t.height="26rpx",t.fontSize=0,t.lineHeight=1,t.backgroundColor=n.colors[e.mode].grey[0],t.borderRadius="26rpx",t.transition="transform 0.3s",t}));let x="";return l((()=>[e.disabled,e.loading,e.modelValue]),(e=>{d.disabled=e[0],d.loading=e[1],"click"===x?x="":t("change",e[2]),f()})),{rootStyle:y,rootState:d,buttonStyle:v,buttonState:u,iconState:m,textState:p,onClick:o=>{if(d.disabled||d.loading)return!1;const a=c.value?e.inactiveValue:e.activeValue;d.loading=!0,x="click",t("update:modelValue",a),t("change",a,o)},isActive:c}}}),[["render",function(t,o,a,i,l,r){const b=s(n("kui-icons"),e),h=s(n("kui-animation"),x),C=s(n("kui-text"),S),_=v;return c(),d(_,{class:"kui-switch kui-flex kui-items-center",id:t.rootState.id,style:g(t.rootStyle),onClick:t.onClick},{default:u((()=>[m(_,{class:p(["kui-switch-button kui-flex kui-justify-center kui-items-center",[t.buttonState.status]]),style:g(t.buttonStyle)},{default:u((()=>[t.rootState.loading?(c(),d(h,{key:0,name:"rotate-center",duration:1,runing:"",infinite:""},{default:u((()=>[m(b,{size:t.iconState.size,color:t.iconState.color,type:"spinner6"},null,8,["size","color"])])),_:1})):k("",!0),t.activeText&&t.modelValue?(c(),d(_,{key:1,class:"open-text"},{default:u((()=>[m(C,{size:t.textState.size,color:t.textState.color},{default:u((()=>[f(y(t.activeText),1)])),_:1},8,["size","color"])])),_:1})):k("",!0),t.inactiveText&&!t.modelValue?(c(),d(_,{key:2,class:"close-text"},{default:u((()=>[m(C,{size:t.textState.size,color:t.textState.color},{default:u((()=>[f(y(t.inactiveText),1)])),_:1},8,["size","color"])])),_:1})):k("",!0)])),_:1},8,["class","style"])])),_:1},8,["id","style","onClick"])}],["__scopeId","data-v-082242c4"]]);export{C as _};
