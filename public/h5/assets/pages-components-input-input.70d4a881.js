import{_ as e}from"./kui-text.d338fb2c.js";import{v as l,x as t,T as a,r as o,A as s,k as r,y as u,g as n,e as d,i,c,d as p,w as f,f as m,m as y,h as g,s as h,q as k,B as b,z as S,j as x,Z as _,_ as w}from"./index.4769b127.js";import{_ as V}from"./kui-switch.5419dd7d.js";import{_ as C}from"./kui-cell-group.bf65a318.js";import{_ as B}from"./kui-icons.3c452229.js";import{_ as P}from"./kui-animation.1c71067a.js";import{c as I,_ as j}from"./kui-page.12878643.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as v}from"./kui-space.2c8c8efa.js";import{_ as F}from"./kui-button.fcbf8c10.js";import{_ as z}from"./kui-image.7f08b25c.js";import"./kui-spin.40ca1a3c.js";import"./element.bd39bbbe.js";const U={mode:{type:String,default:()=>{var e,t;return null!=(t=null==(e=l(I,void 0))?void 0:e.mode)?t:"light"}},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},labelWidth:{type:[String,Number],default:80},labelAlign:{type:String,default:"left"},inputAlign:{type:String,default:"left"},required:{type:Boolean,default:!1},requiredAlign:{type:String,default:"right"},border:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},clearIcon:{type:String,default:"cancel"},clearIconSize:{type:[String,Number],default:40},leftIcon:{type:String,default:""},leftIconSize:{type:[String,Number],default:28},leftIconColor:{type:String,default:""},rightIcon:{type:String,default:""},rightIconSize:{type:[String,Number],default:28},rightIconColor:{type:String,default:""},showLimitWord:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},errorMessageAlign:{type:String,default:"left"},type:{type:String,default:"text"},textContentType:{type:String,default:""},password:{type:Boolean,default:!1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},disabled:{type:Boolean,default:!1},maxlength:{type:Number,default:140},cursorSpacing:{type:Number,default:0},focus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},cursor:{type:Number,default:null},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},holdKeyboard:{type:Boolean,default:!1},autoBlur:{type:Boolean,default:!1},ignoreCompositionEvent:{type:Boolean,default:!0},alwaysEmbed:{type:Boolean,default:!1},safePasswordCertPath:{type:String,default:null},safePasswordLength:{type:Number,default:null},safePasswordTimeStamp:{type:Number,default:null},safePasswordNonce:{type:String,default:""},safePasswordSalt:{type:String,default:""},safePasswordCustomHash:{type:String,default:""},randomNumber:{type:Boolean,default:!1},controlled:{type:Boolean,default:!1},alwaysSystem:{type:Boolean,default:!1},rows:{type:Number,default:1}};const L=N(t({name:"kui-input",props:U,emits:["update:modelValue","input","focus","blur","linechange","confirm","keyboardheightchange","click","click-input","click-left-icon","click-right-icon"],setup(e,{emit:l}){const{proxy:t}=n(),d=t.$theme,i=a(null),c=o({mode:e.mode,isDark:"dark"===e.mode,modelValue:e.modelValue,disabled:e.disabled,readonly:e.readonly,animationName:"fade-in"}),p=o({backgroundColor:c.isDark?d.colors[c.mode].grey[0]:"#FFFFFF",borderColor:c.isDark?d.colors[c.mode].grey[5]:d.colors[c.mode].grey[2]}),f=o({color:c.isDark?d.colors[c.mode].grey[9]:"#000000"}),m=s((()=>{const l=o({});return l.backgroundColor=p.backgroundColor,l.borderBottom=e.border?`1rpx solid ${p.borderColor}`:"",l})),y=s((()=>{const l=o({});return l.color=f.color,c.disabled&&(l.opacity=.5),e.error&&(l.color=d.colors[e.mode].danger[5]),l.textAlign=e.inputAlign,l})),g=s((()=>{const l=o({});return e.error&&(l.color=d.colors[e.mode].danger[5]),l})),h=(e="light")=>{"light"===e?(p.backgroundColor="#FFFFFF",p.borderColor=d.colors[e].grey[3],f.color="#000000"):(p.backgroundColor=d.colors[e].grey[0],p.borderColor=d.colors[e].grey[3],f.color=d.colors[e].grey[7])},k=s((()=>{const l=o({});return l.width=`${e.labelWidth}px`,l.paddingRight="10rpx",c.disabled&&(l.opacity=.5),l}));r((()=>{h()})),u((()=>[c.mode]),(e=>{c.mode=e[0]}));return uni.$on("changeMode",(e=>{h(e)})),{name:"kui-input",theme:d,rootStyle:m,labelStyle:k,inputStyle:y,placeholderStyle:g,state:c,inputType:e=>"integer"===e?"number":e,onInput:t=>{let a=t.detail.value;a?c.modelValue=a:e.clearable?(i.value.changeState("name","fade-out"),c.animationName="fade-in",setTimeout((()=>{c.modelValue=a}),100)):c.modelValue=a,l("update:modelValue",a,t),l("input",a,t)},clearAnimate:i,getLabelAlign:e=>"left"===e?"kui-justify-start":"center"===e?"kui-justify-center":"right"===e?"kui-justify-end":void 0,onFocus:e=>{l("focus",c.modelValue,e)},onBlur:e=>{l("blur",c.modelValue,e)},onLinechange:e=>{l("linechange",c.modelValue,e)},onConfirm:e=>{l("confirm",c.modelValue,e)},onKeyboardheightchange:e=>{l("keyboardheightchange",c.modelValue,e)},onClick:e=>{l("click",c.modelValue,e)},onClickInput:e=>{l("click-input",c.modelValue,e)},onClickLeftIcon:e=>{l("click-left-icon",c.modelValue,e)},onClickRightIcon:e=>{l("click-right-icon",c.modelValue,e)}}}}),[["render",function(l,t,a,o,s,r){const u=d(i("kui-icons"),B),n=x,V=d(i("kui-text"),e),C=_,I=w,j=d(i("kui-animation"),P);return c(),p(n,{class:y(["kui-box-border kui-flex-shrink-0 kui-bg-white",[l.name]]),style:k(l.rootStyle)},{default:f((()=>[m(n,{class:"kui-flex kui-items-center kui-box-border kui-flex-shrink-0"},{default:f((()=>[m(n,{class:y(["kui-flex kui-justify-end",[`${l.name}_left-icon`]])},{default:f((()=>[m(u,{type:l.leftIcon,color:l.leftIconColor,size:l.leftIconSize,onClick:l.onClickLeftIcon},null,8,["type","color","size","onClick"])])),_:1},8,["class"]),m(n,{class:"kui-flex"},{default:f((()=>[m(n,{class:y(`${l.name}_required-box`)},{default:f((()=>[l.required?(c(),p(V,{key:0,color:"danger"},{default:f((()=>[g("*")])),_:1})):h("",!0)])),_:1},8,["class"]),m(n,{class:y(["kui-flex kui-box-border",[`${l.name}_label`,l.getLabelAlign(l.labelAlign)]]),style:k(l.labelStyle)},{default:f((()=>[m(V,{color:l.error?"danger":""},{default:f((()=>[g(b(l.label),1)])),_:1},8,["color"])])),_:1},8,["class","style"])])),_:1}),m(n,{class:"kui-flex kui-flex-col kui-justify-start kui-box-border kui-flex-shrink-0"},{default:f((()=>[l.showLimitWord?(c(),p(n,{key:1,class:"kui-pr-6",onClick:l.onClickInput},{default:f((()=>[m(I,{class:"kui-h-full kui-w-full kui-text-base kui-leading-none",maxlength:l.maxlength,style:k([{width:"200px",height:"40px"},{...l.inputStyle,height:(l.rows?20*l.rows:20)+"px"}]),placeholder:l.placeholder,"placeholder-style":{...l.placeholderStyle},"placeholder-class":l.placeholderClass,disabled:l.disabled,focus:l.focus,"auto-focus":l.focus,"cursor-spacing":l.cursorSpacing,cursor:l.cursor,"confirm-type":l.confirmType,"confirm-hold":l.confirmHold,"selection-start":l.selectionStart,"selection-end":l.selectionEnd,"adjust-position":l.adjustPosition,"hold-keyboard":l.holdKeyboard,"auto-blur":l.autoBlur,ignoreCompositionEvent:l.ignoreCompositionEvent,onInput:l.onInput,onFocus:l.onFocus,onBlur:l.onBlur,onLinechange:l.onLinechange,onConfirm:l.onConfirm,onKeyboardheightchange:l.onKeyboardheightchange},null,8,["maxlength","placeholder","placeholder-style","placeholder-class","disabled","style","focus","auto-focus","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignoreCompositionEvent","onInput","onFocus","onBlur","onLinechange","onConfirm","onKeyboardheightchange"])])),_:1},8,["onClick"])):(c(),p(n,{key:0,onClick:l.onClickInput},{default:f((()=>[l.state.readonly?(c(),p(n,{key:1},{default:f((()=>[m(V,null,{default:f((()=>[g(b(l.state.modelValue),1)])),_:1})])),_:1})):(c(),p(n,{key:0},{default:f((()=>[m(C,{class:"kui-h-full kui-w-full kui-text-base kui-leading-none",placeholder:l.placeholder,password:l.password,value:l.state.modelValue,style:k({...l.inputStyle}),disabled:l.state.disabled,readonlly:l.state.readonly,"text-content-type":l.textContentType,"placeholder-class":l.placeholderClass,"cursor-spacing":l.cursorSpacing,"auto-focus":l.focus,"confirm-type":l.confirmType,"confirm-hold":l.confirmHold,cursor:l.cursor,"selection-start":l.selectionStart,"selection-end":l.selectionEnd,"adjust-position":l.adjustPosition,"hold-keyboard":l.holdKeyboard,autoBlur:l.autoBlur,ignoreCompositionEvent:l.ignoreCompositionEvent,alwaysEmbed:l.alwaysEmbed,safePasswordCertPath:l.safePasswordCertPath,safePasswordLength:l.safePasswordLength,safePasswordTimeStamp:l.safePasswordTimeStamp,safePasswordNonce:l.safePasswordNonce,safePasswordSalt:l.safePasswordSalt,safePasswordCustomHash:l.safePasswordCustomHash,randomNumber:l.randomNumber,controlled:l.controlled,alwaysSystem:l.alwaysSystem,type:l.type,onInput:l.onInput,onFocus:l.onFocus,onBlur:l.onBlur,onConfirm:l.onConfirm,onKeyboardheightchange:l.onKeyboardheightchange},null,8,["placeholder","password","value","style","disabled","readonlly","text-content-type","placeholder-class","cursor-spacing","auto-focus","confirm-type","confirm-hold","cursor","selection-start","selection-end","adjust-position","hold-keyboard","autoBlur","ignoreCompositionEvent","alwaysEmbed","safePasswordCertPath","safePasswordLength","safePasswordTimeStamp","safePasswordNonce","safePasswordSalt","safePasswordCustomHash","randomNumber","controlled","alwaysSystem","type","onInput","onFocus","onBlur","onConfirm","onKeyboardheightchange"])])),_:1}))])),_:1},8,["onClick"]))])),_:1}),l.clearable&&l.state.modelValue?(c(),p(n,{key:0,class:y(["kui-flex kui-w-full kui-justify-center kui-items-center",[`${l.name}_clearable`]]),onClick:t[0]||(t[0]=e=>l.state.modelValue="")},{default:f((()=>[m(j,{ref:"clearAnimate",name:l.state.animateName,duration:.1,runing:""},{default:f((()=>[m(u,{type:l.clearIcon,color:"grey",size:l.clearIconSize},null,8,["type","size"])])),_:1},8,["name","duration"])])),_:1},8,["class"])):h("",!0),m(n,{class:y(["kui-flex kui-flex-auto kui-justify-end kui-items-center",[`${l.name}_right-icon`]])},{default:f((()=>[m(u,{type:l.rightIcon,color:l.rightIconColor,size:l.rightIconSize,onClick:l.onClickRightIcon},null,8,["type","color","size","onClick"])])),_:1},8,["class"]),m(n,{class:"kui-flex kui-h-full kui-border-0 kui-border-l kui-border-solid kui-border-gray-100 kui-px-0 kui-box-border kui-flex-shrink"},{default:f((()=>[S(l.$slots,"button",{},void 0,!0)])),_:3})])),_:3}),m(n,{class:"kui-flex"},{default:f((()=>[m(n,{class:y(["kui-flex kui-justify-end",[`${l.name}_left-icon`]])},null,8,["class"]),m(n,{class:"kui-flex"},{default:f((()=>[m(n,{class:y(`${l.name}_required-box`)},null,8,["class"]),m(n,{class:y(["kui-flex kui-box-border",[`${l.name}_label`]]),style:k(l.labelStyle)},{default:f((()=>[m(V,{color:l.error?"danger":""},null,8,["color"])])),_:1},8,["class","style"])])),_:1}),l.errorMessage?(c(),p(n,{key:0},{default:f((()=>[m(V,{color:"danger",size:"12px"},{default:f((()=>[g(b(l.errorMessage),1)])),_:1})])),_:1})):h("",!0),l.showLimitWord?(c(),p(n,{key:1,class:"kui-flex kui-w-full kui-justify-end"},{default:f((()=>[m(V,{color:"grey",size:"12px"},{default:f((()=>[g(b(l.state.modelValue.length)+"/"+b(l.maxlength),1)])),_:1})])),_:1})):h("",!0)])),_:1})])),_:3},8,["class","style"])}],["__scopeId","data-v-e007ad49"]]);const E=N({setup(){const e={state:o({mode:"light",modeChecked:!1}),methods:{onChange(l){e.state.mode=l?"dark":"light",uni.$emit("changeMode",e.state.mode)}}},l={state:o({text:"",password:"",number:"",integer:"",tel:"",nickname:"",idcard:"",safePassword:"",readonly:"只读",code:""}),methods:{onChange(e){__f__("log","at pages/components/input/input.vue:147",l.state.integer)}}};return{modeState:e,typeState:l}}},[["render",function(l,t,a,o,s,r){const u=d(i("kui-text"),e),n=d(i("kui-switch"),V),y=x,h=d(i("kui-cell-group"),C),k=d(i("kui-input"),L),b=d(i("kui-space"),v),S=d(i("kui-button"),F),_=d(i("kui-image"),z),w=d(i("kui-page"),j);return c(),p(y,{class:"kui-w-full kui-h-full"},{default:f((()=>[m(w,{"padding-x":0,"custom-header":!1},{body:f((()=>[m(y,{class:"kui-w-full kui-h-full"},{default:f((()=>[m(y,{class:"kui-my-3 kui-px-5 kui-h-full kui-flex kui-items-center"},{default:f((()=>[m(u,null,{default:f((()=>[g("暗黑模式：")])),_:1}),m(n,{modelValue:o.modeState.state.modeChecked,"onUpdate:modelValue":t[0]||(t[0]=e=>o.modeState.state.modeChecked=e),onChange:o.modeState.methods.onChange},null,8,["modelValue","onChange"])])),_:1}),m(b,{gap:[30,0],direction:"column"},{default:f((()=>[m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"基本用法"})])),_:1}),m(k,{label:"文本",placeholder:"请输入文本"})])),_:1})])),_:1}),m(y,{class:"kui-my-3"},{default:f((()=>[m(b,{gap:[30,0],direction:"column"},{default:f((()=>[m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"输入框类型"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[1]||(t[1]=e=>o.typeState.state.text=e),label:"文本",placeholder:"请输入文本"},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.typeState.state.password=e),label:"密码",type:"password",placeholder:"请输入密码"},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.number,"onUpdate:modelValue":t[3]||(t[3]=e=>o.typeState.state.number=e),label:"数字",type:"number",placeholder:"请输入数字"},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"禁用和只读"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[4]||(t[4]=e=>o.typeState.state.text=e),label:"文本",placeholder:"禁用",disabled:""},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.readonly,"onUpdate:modelValue":t[5]||(t[5]=e=>o.typeState.state.readonly=e),label:"只读",placeholder:"只读",readonly:""},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"图标显示"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[6]||(t[6]=e=>o.typeState.state.text=e),label:"文本","right-icon":"info_outline","right-icon-size":40,"left-icon":"heart","left-icon-color":"danger","left-icon-size":30,placeholder:"图标显示"},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[7]||(t[7]=e=>o.typeState.state.text=e),label:"文本",placeholder:"动态显示清除图标",clearable:""},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"错误提示"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[8]||(t[8]=e=>o.typeState.state.text=e),label:"文本",placeholder:"必填内容",required:""},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[9]||(t[9]=e=>o.typeState.state.text=e),label:"错误",placeholder:"输入内容标红",error:""},null,8,["modelValue"]),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[10]||(t[10]=e=>o.typeState.state.text=e),label:"错误",placeholder:"错误提示显示","error-message":"错误提示显示"},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"按钮插槽"})])),_:1}),m(k,{modelValue:o.typeState.state.code,"onUpdate:modelValue":t[11]||(t[11]=e=>o.typeState.state.code=e),label:"验证码",placeholder:"请输入短信验证码"},{button:f((()=>[m(y,{class:"kui-ml-3"},{default:f((()=>[m(S,{type:"primary",size:"small"},{default:f((()=>[g("发送验证码")])),_:1})])),_:1})])),_:1},8,["modelValue"]),m(k,{modelValue:o.typeState.state.code,"onUpdate:modelValue":t[12]||(t[12]=e=>o.typeState.state.code=e),label:"验证码",placeholder:"请输入验证码"},{button:f((()=>[m(y,{class:"kui-ml-3"},{default:f((()=>[m(_,{src:"https://wwcdn.weixin.qq.com/node/wework/images/202010241547.ac6876be9c.png",width:"160rpx",height:"40rpx"})])),_:1})])),_:1},8,["modelValue"]),m(k,{modelValue:o.typeState.state.code,"onUpdate:modelValue":t[13]||(t[13]=e=>o.typeState.state.code=e),label:"验证码",placeholder:"请输入短信验证码"},{button:f((()=>[m(y,{class:"kui-ml-3"},{default:f((()=>[m(u,{color:"primary"},{default:f((()=>[g("发送验证码")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"字数统计显示"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[14]||(t[14]=e=>o.typeState.state.text=e),label:"错误",placeholder:"错误提示显示","show-limit-word":"",rows:2,maxlength:50},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"对齐方式"})])),_:1}),m(k,{modelValue:o.typeState.state.text,"onUpdate:modelValue":t[15]||(t[15]=e=>o.typeState.state.text=e),label:"label右对齐",placeholder:"文本内容右对齐","label-align":"right","input-align":"right"},null,8,["modelValue"])])),_:1}),m(y,{class:"kui-w-full"},{default:f((()=>[m(y,{class:"kui-px-5"},{default:f((()=>[m(h,{title:"无底部边框"})])),_:1}),m(k,{label:"文本",placeholder:"请输入文本",border:!1}),m(k,{label:"文本",placeholder:"请输入文本",border:!1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}]]);export{E as default};
