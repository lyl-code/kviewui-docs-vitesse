import{_ as e}from"./kui-icons.87a80e4b.js";import{D as t,E as o,M as a,r as i,L as l,d as r,f as s,o as n,c,w as d,a as u,q as m,b as p,I as g,l as f,m as k,i as y}from"./index.6e0bac9a.js";import{c as v,r as S}from"./kui-page.9f67228f.js";import{_ as x}from"./kui-animation.118fdc33.js";import{_ as b}from"./kui-text.66024d1c.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";var h=C(o({name:"kui-switch",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},iconColor:{type:String,default:"primary"},icon:{type:String,default:""},activeColor:{type:String,default:"primary"},inactiveColor:{type:String,default:"grey"},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},mode:{type:String,default:()=>{var e,o;return null!=(o=null==(e=t(v,void 0))?void 0:e.mode)?o:"light"}}},emits:["update:modelValue","change"],setup(e,{emit:t}){const o=`kUI_${Math.ceil(1e6*(new Date).getTime()).toString(36)}`,{proxy:s}=r(),n=s.$theme,c=a((()=>e.modelValue===e.activeValue)),d=i({disabled:e.disabled,loading:e.loading,isDark:"dark"===e.mode,id:o}),u=i({status:c.value?"open":"close"}),m=i({size:20,color:""}),p=i({color:n.colors[e.mode].grey[0],size:`${n.size.fonts.sm}rpx`}),g=n.colors[e.mode][e.iconColor]?n.colors[e.mode][e.iconColor]:uni.kviewUIColor.generate(e.iconColor,{dark:d.isDark,list:!0}),f=n.colors[e.mode][e.inactiveColor],k=()=>{m.color=c.value?g[5]:f[4]};k();const y=a((()=>{const t=i({});t.width="72rpx",t.height="42rpx";const o=n.colors[e.mode][e.activeColor]?n.colors[e.mode][e.activeColor]:uni.kviewUIColor.generate(e.activeColor,{dark:d.isDark,list:!0});return t.backgroundColor=o[5],c.value?(t.backgroundImage=`linear-gradient(to right, ${o[5]}, ${o[4]})`,u.status="open"):(t.backgroundColor=f[2],u.status="close"),t.borderRadius="42rpx",d.disabled&&(t.opacity=.7),t})),v=a((()=>{const t=i({});return t.width=t.height="26rpx",t.fontSize=0,t.lineHeight=1,t.backgroundColor=n.colors[e.mode].grey[0],t.borderRadius="26rpx",t.transition="transform 0.3s",t}));let S="";return l((()=>[e.disabled,e.loading,e.modelValue]),(e=>{d.disabled=e[0],d.loading=e[1],"click"===S?S="":t("change",e[2]),k()})),{rootStyle:y,rootState:d,buttonStyle:v,buttonState:u,iconState:m,textState:p,onClick:o=>{if(d.disabled||d.loading)return!1;const a=c.value?e.inactiveValue:e.activeValue;d.loading=!0,S="click",t("update:modelValue",a),t("change",a,o)},isActive:c}}}),[["render",function(t,o,a,i,l,r){const v=S(s("kui-icons"),e),C=S(s("kui-animation"),x),h=S(s("kui-text"),b),_=y;return n(),c(_,{class:"kui-switch kui-flex kui-items-center",id:t.rootState.id,style:k(t.rootStyle),onClick:t.onClick},{default:d((()=>[u(_,{class:f(["kui-switch-button kui-flex kui-justify-center kui-items-center",[t.buttonState.status]]),style:k(t.buttonStyle)},{default:d((()=>[t.rootState.loading?(n(),c(C,{key:0,name:"rotate-center",duration:1,runing:"",infinite:""},{default:d((()=>[u(v,{size:t.iconState.size,color:t.iconState.color,type:"spinner6"},null,8,["size","color"])])),_:1})):m("",!0),t.activeText&&t.modelValue?(n(),c(_,{key:1,class:"open-text"},{default:d((()=>[u(h,{size:t.textState.size,color:t.textState.color},{default:d((()=>[p(g(t.activeText),1)])),_:1},8,["size","color"])])),_:1})):m("",!0),t.inactiveText&&!t.modelValue?(n(),c(_,{key:2,class:"close-text"},{default:d((()=>[u(h,{size:t.textState.size,color:t.textState.color},{default:d((()=>[p(g(t.inactiveText),1)])),_:1},8,["size","color"])])),_:1})):m("",!0)])),_:1},8,["class","style"])])),_:1},8,["id","style","onClick"])}],["__scopeId","data-v-5812679c"]]);export{h as _};
