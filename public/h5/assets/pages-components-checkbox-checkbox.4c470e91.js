import{_ as e}from"./kui-icons.3c452229.js";import{v as t,x as a,r as l,A as o,k as i,y as n,g as c,e as s,i as u,c as r,d,w as h,f as m,m as k,q as g,z as p,j as f,n as _,p as v,T as b,h as y,G as C,H as S,I as x,B as G}from"./index.4769b127.js";import{_ as w}from"./kui-animation.1c71067a.js";import{c as V,_ as j}from"./kui-page.12878643.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as I}from"./kui-cell.8246ece5.js";import{_ as $}from"./kui-cell-group.bf65a318.js";import{u as z}from"./expose.4988376c.js";import{_ as O}from"./kui-text.d338fb2c.js";import{_ as U}from"./kui-button.fcbf8c10.js";import{_ as A}from"./kui-space.2c8c8efa.js";import{_ as N}from"./kui-toast.f1760cdf.js";import"./kui-spin.40ca1a3c.js";const R={checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:""},activeColor:{type:String,default:"primary"},inactiveColor:{type:String,default:"grey"},iconSize:{type:Number,default:36},activeIcon:{type:String,default:"check_circle1"},inactiveIcon:{type:String,default:"panorama_fisheye"},mode:{type:String,default:()=>{var e,a;return null!=(a=null==(e=t(V,void 0))?void 0:e.mode)?a:"light"}},labelPosition:{type:String,default:"right"},indeterminate:{type:Boolean,default:!1},indeterminateIcon:{type:String,default:"delete"}},T="kui-checkbox";const q=B(a({name:T,props:R,emits:["change","update:checked"],setup(e,{emit:a}){var s,u,r;const{proxy:d}=c(),h=d.$theme,m=`kUI_${Math.ceil(1e6*(new Date).getTime()).toString(36)}`,k=null!=(s=t("checkbox-group"))?s:null,g=l({checked:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,marginBottom:"",marginRight:"",id:m,value:e.value,positionClass:"",mode:e.mode,icon:{activeColor:"",inactiveColor:""}}),p=l({position:`${T}_label-right`}),f=o((()=>{const e=l({});return g.disabled&&(e.opacity=.4),e.marginBottom=g.marginBottom,e.marginRight=g.marginRight,e})),_=o((()=>{const e=l({});return e.color=h.colors[g.mode].grey[9],e}));let v="";const b="dark"===g.mode,y=null!=(u=h.colors[g.mode][e.activeColor])?u:uni.kviewUIColor.generate(e.activeColor,{dark:b,list:!0}),C=null!=(r=h.colors[g.mode][e.inactiveColor])?r:uni.kviewUIColor.generate(e.inactiveColor,{dark:b,list:!0});return i((()=>{g.icon.activeColor=y[5],g.icon.inactiveColor="grey"===e.inactiveColor?C[3]:C[5],"left"===e.labelPosition&&(g.positionClass="kui-flex-row-reverse"),p.position=`${T}_label-${e.labelPosition}`,k&&-1===k.childrens.indexOf(g)&&k.childrens.push(g)})),n((()=>[g.marginBottom,e.checked,e.indeterminate]),(t=>{t[0]&&(g.marginBottom=t[0]),g.indeterminate=t[2],"click"===v?v="":(g.checked=t[1],a("change",{checked:t[1],value:e.value,e:null}))})),uni.$on("changeMode",(t=>{g.mode=t,"dark"===g.mode&&"grey"===e.inactiveColor&&(g.icon.inactiveColor=C[4]),"light"===g.mode&&(g.icon.inactiveColor="grey"===e.inactiveColor?C[2]:C[5])})),{theme:h,state:g,labelState:p,labelStyle:_,onClick:t=>{if(g.disabled)return;if(!g.checked&&k&&k.max>0&&k.max===k.value.length)return;g.indeterminate&&(g.indeterminate=!1),g.checked=!g.checked;const l={checked:g.checked,value:e.value,e:t};v="click",a("update:checked",g.checked),a("change",l,t),k&&k.onChange(l)},rootStyle:f}}}),[["render",function(t,a,l,o,i,n){const c=s(u("kui-icons"),e),_=s(u("kui-animation"),w),v=f;return r(),d(v,{class:k(["kui-checkbox kui-flex kui-items-center",[t.state.positionClass]]),id:t.state.id,style:g(t.rootStyle),onClick:t.onClick},{default:h((()=>[m(v,{class:"kui-checkbox_icon"},{default:h((()=>[t.state.checked||t.state.indeterminate?(r(),d(_,{key:0,name:"fade-in",duration:.2,runing:""},{default:h((()=>[m(c,{size:t.iconSize,color:t.state.icon.activeColor,type:t.state.indeterminate?t.indeterminateIcon:t.activeIcon},null,8,["size","color","type"])])),_:1},8,["duration"])):(r(),d(c,{key:1,size:t.iconSize,color:t.state.icon.inactiveColor,type:t.inactiveIcon},null,8,["size","color","type"]))])),_:1}),m(v,{class:k(["kui-checkbox_label",[t.labelState.position]]),style:g(t.labelStyle)},{default:h((()=>[p(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","id","style","onClick"])}],["__scopeId","data-v-82e19da3"]]);const P=B(a({name:"kui-checkbox-group",props:{modelValue:{type:[String,Number,Boolean,Array],default:[]},disabled:{type:Boolean,default:!1},max:{type:Number,default:0},direction:{type:String,default:"row"}},emits:["change","update:modelValue"],setup(e,{emit:t}){const a=l([]),o=l(e.modelValue),n=(t="normal")=>{a&&a.forEach(((a,l)=>{if(a.marginRight="40rpx",o.indexOf(a.value)>-1&&(a.checked=!0),a.disabled=e.disabled,"all"===t&&(o.indexOf(a.value)<0&&o.push(a.value),a.checked=!0),"cancel"===t&&(o.indexOf(a.value)>-1&&o.splice(o.indexOf(a.value),1),a.checked=!1),"reverse"===t){const e=o.indexOf(a.value);e>-1?o.splice(e,1):o.push(a.value),a.checked=!a.checked}}))};i((()=>{_((()=>{n()}))}));const c=(e,t)=>e-t,s=()=>{o.length!==a.length&&(n("all"),t("change",o.sort(c)))};return v("checkbox-group",{childrens:a,value:o,onChange:a=>{if(a.checked){if(e.max&&o.length===e.max)return;o.push(a.value)}else o.splice(o.indexOf(a.value),1);t("change",o.sort(c))},...e}),z({toggleAll:s,toggleCancel:()=>{0!==o.length&&(n("cancel"),t("change",o))},toggleReverse:()=>{n("reverse"),t("change",o.sort(c))}}),{toggleAll:s}}}),[["render",function(e,t,a,l,o,i){const n=f;return r(),d(n,{class:k(["kui-checkbox-group",["row"===e.direction?"kui-flex kui-flex-wrap":""]])},{default:h((()=>[p(e.$slots,"default")])),_:3},8,["class"])}]]);const J=B({setup(){const{proxy:e}=c(),t=e.$theme,a=b(null),o=b(null),i={mode:"light",toast:l({show:!1,content:""}),change:{methods:{onChange(e){const t=e.checked?"选中":"取消";i.toast.content=`${t}复选按钮`,i.toast.show=!0}}}},n={state:l({checkedGroup:["1","4"],items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"}]}),methods:{onChange(e){n.state.checkedGroup=e}}},s={state:l({checkedGroup:["2","3","6"],items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"},{label:"复选按钮组",value:"5"},{label:"复选按钮组",value:"6"}]}),methods:{all(e){a.value.toggleAll()},cancel(e){a.value.toggleCancel()},reverse(e){a.value.toggleReverse()},onChange(e){__f__("log","at pages/components/checkbox/checkbox.vue:236",e)}}},u={state:l({items:[{label:"复选按钮组",value:"1"},{label:"复选按钮组",value:"2"},{label:"复选按钮组",value:"3"},{label:"复选按钮组",value:"4"}],indeterminate:!0,checked:!1,checkedGroup:[]}),methods:{onChange(e){e.e&&(e.checked?o.value.toggleAll():o.value.toggleCancel())},groupChange(e){e.length===u.state.items.length?(u.state.indeterminate=!1,u.state.checked=!0):(u.state.checked=!1,u.state.indeterminate=!0)}}};return{theme:t,state:i,baseGroupState:n,toggleGroupState:s,indeterminateGroupState:u,groupToggle:a,groupIndeterminate:o}}},[["render",function(e,t,a,l,o,i){const n=s(u("kui-checkbox"),q),c=s(u("kui-cell"),I),k=s(u("kui-cell-group"),$),p=s(u("kui-checkbox-group"),P),_=s(u("kui-text"),O),v=f,b=s(u("kui-button"),U),w=s(u("kui-space"),A),V=s(u("kui-page"),j),B=s(u("kui-toast"),N);return r(),d(v,{class:"kui-w-full kui-h-full"},{default:h((()=>[m(V,{"custom-header":!1},{body:h((()=>[m(v,{class:"kui-w-full kui-h-full"},{default:h((()=>[m(w,{gap:[30,0],direction:"column"},{default:h((()=>[m(k,{title:"基本用法"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{checked:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"label-position":"left",checked:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1})])),_:1}),m(k,{title:"半选中状态"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{indeterminate:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1})])),_:1}),m(k,{title:"禁用状态"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{checked:"",disabled:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{disabled:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{indeterminate:"",disabled:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1})])),_:1}),m(k,{title:"自定义图标大小"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"icon-size":30},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"icon-size":40},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"icon-size":50},{default:h((()=>[y("复选按钮")])),_:1})])),_:1})])),_:1}),m(k,{title:"自定义图标"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"active-icon":"check","inactive-icon":"check",checked:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1}),m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{"active-icon":"check-square1","inactive-icon":"check-square1",checked:""},{default:h((()=>[y("复选按钮")])),_:1})])),_:1})])),_:1}),m(k,{title:"change监听"},{default:h((()=>[m(c,{"show-right-icon":!1,"click-status":!1},{content:h((()=>[m(n,{onChange:l.state.change.methods.onChange},{default:h((()=>[y("复选按钮")])),_:1},8,["onChange"])])),_:1})])),_:1}),m(k,{title:"复选按钮组-基本用法"},{default:h((()=>[m(v,{class:"kui-rounded kui-p-3 kui-bg-white",style:g({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:h((()=>[m(p,{modelValue:l.baseGroupState.state.checkedGroup,"onUpdate:modelValue":t[0]||(t[0]=e=>l.baseGroupState.state.checkedGroup=e),onChange:l.baseGroupState.methods.onChange},{default:h((()=>[(r(!0),C(x,null,S(l.baseGroupState.state.items,((e,t)=>(r(),d(n,{key:t,value:e.value},{default:h((()=>[y(G(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"]),m(v,{class:"kui-mt-3 kui-flex"},{default:h((()=>[m(v,{class:"kui-mr-3"},{default:h((()=>[m(_,null,{default:h((()=>[y("当前选中值")])),_:1})])),_:1}),m(v,null,{default:h((()=>[m(_,null,{default:h((()=>[y(G(JSON.stringify(l.baseGroupState.state.checkedGroup)),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])])),_:1}),m(k,{title:"复选按钮组-全选/取消/反选"},{default:h((()=>[m(v,{class:"kui-rounded kui-p-3 kui-bg-white",style:g({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:h((()=>[m(p,{modelValue:l.toggleGroupState.state.checkedGroup,"onUpdate:modelValue":t[1]||(t[1]=e=>l.toggleGroupState.state.checkedGroup=e),onChange:l.toggleGroupState.methods.onChange,ref:"groupToggle"},{default:h((()=>[(r(!0),C(x,null,S(l.toggleGroupState.state.items,((e,t)=>(r(),d(n,{key:t,value:e.value},{default:h((()=>[y(G(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["style"])])),_:1}),m(v,{class:"kui-flex"},{default:h((()=>[m(w,null,{default:h((()=>[m(b,{type:"primary",onClick:l.toggleGroupState.methods.all},{default:h((()=>[y("全选")])),_:1},8,["onClick"]),m(b,{type:"warning",onClick:l.toggleGroupState.methods.cancel},{default:h((()=>[y("取消")])),_:1},8,["onClick"]),m(b,{type:"danger",onClick:l.toggleGroupState.methods.reverse},{default:h((()=>[y("反选")])),_:1},8,["onClick"])])),_:1})])),_:1}),m(k,{title:"复选按钮组-限制可选数 (默认2个)"},{default:h((()=>[m(v,{class:"kui-rounded kui-p-3 kui-bg-white",style:g({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:h((()=>[m(p,{modelValue:l.baseGroupState.state.checkedGroup,"onUpdate:modelValue":t[2]||(t[2]=e=>l.baseGroupState.state.checkedGroup=e),max:2,onChange:l.baseGroupState.methods.onChange},{default:h((()=>[(r(!0),C(x,null,S(l.baseGroupState.state.items,((e,t)=>(r(),d(n,{key:t,value:e.value},{default:h((()=>[y(G(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"]),m(v,{class:"kui-mt-3 kui-flex"},{default:h((()=>[m(v,{class:"kui-mr-3"},{default:h((()=>[m(_,null,{default:h((()=>[y("当前选中值")])),_:1})])),_:1}),m(v,null,{default:h((()=>[m(_,null,{default:h((()=>[y(G(JSON.stringify(l.baseGroupState.state.checkedGroup)),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])])),_:1}),m(k,{title:"半选应用场景"},{default:h((()=>[m(v,{class:"kui-rounded kui-px-3 kui-pt-3 kui-bg-white",style:g({backgroundColor:"dark"===l.state.mode?l.theme.colors[l.state.mode].grey[2]:""})},{default:h((()=>[m(n,{indeterminate:l.indeterminateGroupState.state.indeterminate,checked:l.indeterminateGroupState.state.checked,"onUpdate:checked":t[3]||(t[3]=e=>l.indeterminateGroupState.state.checked=e),onChange:l.indeterminateGroupState.methods.onChange},{default:h((()=>[y("全选")])),_:1},8,["indeterminate","checked","onChange"]),m(v,{class:"kui-my-3",style:g({borderBottom:`1rpx solid ${l.theme.colors[l.state.mode].grey[2]}`})},null,8,["style"]),m(p,{direction:"column",modelValue:l.indeterminateGroupState.state.checkedGroup,"onUpdate:modelValue":t[4]||(t[4]=e=>l.indeterminateGroupState.state.checkedGroup=e),ref:"groupIndeterminate",onChange:l.indeterminateGroupState.methods.groupChange},{default:h((()=>[(r(!0),C(x,null,S(l.indeterminateGroupState.state.items,((e,t)=>(r(),C(x,{key:t},[m(n,{value:e.value},{default:h((()=>[y(G(e.label),1)])),_:2},1032,["value"]),m(v,{class:"kui-my-3",style:g({borderBottom:`1rpx solid ${l.theme.colors[l.state.mode].grey[2]}`})},null,8,["style"])],64)))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})])),_:1}),m(B,{show:l.state.toast.show,"onUpdate:show":t[5]||(t[5]=e=>l.state.toast.show=e),content:l.state.toast.content},null,8,["show","content"])])),_:1})}]]);export{J as default};
