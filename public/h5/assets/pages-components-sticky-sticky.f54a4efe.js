import{_ as t}from"./kui-button.fcbf8c10.js";import{x as e,T as o,A as i,r as a,k as r,c as s,d as u,w as n,f as l,q as p,z as c,j as d,o as f,U as k,g as b,h as _,e as m,i as y}from"./index.4769b127.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as g}from"./kui-cell-group.bf65a318.js";import{_ as v}from"./kui-space.2c8c8efa.js";import{_ as h}from"./kui-page.12878643.js";import{u as j}from"./element.bd39bbbe.js";import"./kui-spin.40ca1a3c.js";import"./kui-icons.3c452229.js";const w=x(e({name:"kui-sticky",props:{position:{type:String,default:"top"},top:{type:Number,default:0},bottom:{type:Number,default:0},zIndex:{type:Number,default:1e3},container:{type:Object},containerId:{type:String,default:""},proxy:{type:Object}},options:{virtualHost:!0},setup(t){o();const e=i((()=>{const e=a({});let o=t.top?t.top:0,i=t.bottom?t.bottom:0;return o=0===o?44:t.top,"top"===t.position?e.top=`${o}px`:e.bottom=`${i}px`,t.container&&(e.top="44px"),t.containerId&&(e.top=""),e}));let s=a({});return r((()=>{})),{rootStyle:e,observerStyle:s,observerStart:t=>{0===t.intersectionRatio?s.top="44px":s.top=""},observerEnd:t=>{0===t.intersectionRatio?s.top="":s.top="44px"}}}}),[["render",function(t,e,o,i,a,r){const f=d;return s(),u(f,{class:"kui-absolute kui-bg-transparent kui-h-full",style:{"z-index":"999"}},{default:n((()=>[l(f,{class:"kui-relative1 kui-sticky",style:p([t.rootStyle,t.observerStyle])},{default:n((()=>[c(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-7455e305"]]);const S=x({setup(t){const e=o(null),{proxy:i}=b(),a=uni.createIntersectionObserver(i),r=uni.createIntersectionObserver(i);return f((()=>{j(e,"container").then((t=>{a.relativeToViewport({top:-t.height}).observe("#container",(t=>{i.$refs.sticky.observerStart(t)})),r.relativeToViewport({top:-120}).observe("#container",(t=>{i.$refs.sticky.observerEnd(t)}))}))})),k((()=>{a.disconnect(),r.disconnect()})),{container:e,proxy:i}}},[["render",function(e,o,i,a,r,p){const c=m(y("kui-button"),t),f=m(y("kui-sticky"),w),k=d,b=m(y("kui-cell-group"),g),x=m(y("kui-space"),v),j=m(y("kui-page"),h);return s(),u(k,{id:"page-app"},{default:n((()=>[l(j,{"custom-header":!1,paddingY:0},{default:n((()=>[l(k,{class:"body kui-w-full kui-h-full kui-box-border kui-absolute kui-inset-t-0 kui-inset-l-0 kui-p-3"},{default:n((()=>[l(x,{gap:[30,0],direction:"column"},{default:n((()=>[l(b,{title:"基本用法"},{default:n((()=>[l(k,{class:"kui-h-full"},{default:n((()=>[l(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:n((()=>[l(f,null,{default:n((()=>[l(c,{type:"primary"},{default:n((()=>[_("基本用法")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),l(b,{title:"吸顶距离"},{default:n((()=>[l(k,{class:"kui-h-full"},{default:n((()=>[l(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:n((()=>[l(f,{top:100},{default:n((()=>[l(c,{type:"danger"},{default:n((()=>[_("吸顶距离100px")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),l(b,{title:"指定容器"},{default:n((()=>[l(k,{class:"kui-h-full"},{default:n((()=>[l(k,{class:"kui-bg-white kui-h-96 kui-p-3 kui-rounded-md",ref:"container",id:"container"},{default:n((()=>[l(f,{top:100,container:a.container,proxy:a.proxy,"container-id":"container",ref:"sticky"},{default:n((()=>[l(c,{type:"warning"},{default:n((()=>[_("指定容器")])),_:1})])),_:1},8,["container","proxy"])])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-0aca78d1"]]);export{S as default};
